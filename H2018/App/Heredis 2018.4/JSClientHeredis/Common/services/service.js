function parseArgsfromServer(args,callback){var res={},arrayArgs=[];arrayArgs=-1!==args.indexOf("&")?args.split("&"):args.split("%26");for(var i=0;i<arrayArgs.length;i++){var pair=arrayArgs[i].split("=");if(void 0===res[pair[0]])res[pair[0]]=pair[1];else if("string"==typeof res[pair[0]]){var arr=[res[pair[0]],pair[1]];res[pair[0]]=arr}else res[pair[0]].push(pair[1])}return res}function uploadCache(type,uuid,port,cache,callback){$.ajax({url:"http://127.0.0.1:"+port+"/libheredis/appServices/uploadData",type:"POST",data:{uuid:uuid+"_"+type,cachewidget:encodeURIComponent(cache)},success:function(data){callback()}})}function downloadCache(type,uuid,port,callback){$.ajax({url:"http://127.0.0.1:"+port+"/libheredis/appServices/downloadData",type:"POST",data:{uuid:uuid+"_"+type},success:function(data){"progression_yearly"===type&&console.log(decodeURIComponent(data)),callback(decodeURIComponent(data))}})}function clearCache(uuid,port,callback){$.ajax({url:"http://127.0.0.1:"+port+"/libheredis/appServices/clearAllCacheForUuid",type:"POST",data:{uuid:uuid},success:function(data){callback()}})}function test(uuid,port){$.ajax({url:"http://127.0.0.1:"+port+"/libheredis/request/test",type:"POST",data:{uuid:uuid},success:function(data){console.log(data)}})}function getMainPerso(port,uuid,callback){$.ajax({url:"http://127.0.0.1:"+port+"/libheredis/request/getMainPerson",type:"POST",dataType:"json",data:{uuid:uuid},success:function(data){console.log(data),callback(data)}})}function checkForUpdate(uuid,port,dateLocalCache,idMainPerso,updateLocalData,updateMainPerso,defaultBehaviour){$.ajax({url:"http://127.0.0.1:"+port+"/libheredis/request/getLastUpdateTime",type:"POST",dataType:"json",data:{uuid:uuid},success:function(dateModif){updateLocalData(dateModif),checkMainPerso(port,uuid,idMainPerso,updateMainPerso)}})}function checkMainPerso(port,uuid,idMainPerso,callback){$.ajax({url:"http://127.0.0.1:"+port+"/libheredis/request/getMainPerson",type:"POST",dataType:"json",data:{uuid:uuid},success:function(data){callback(data)}})}function isModeDemo(uuid,port,callback){$.ajax({url:"http://127.0.0.1:"+port+"/libheredis/appServices/getExportInfos",type:"POST",dataType:"json",data:{uuid:uuid},success:function(data){if(void 0!==data&&data.canExport){var fn=data.fileName;""===data.exportPath?fn=data.fileName:data.exportPath=data.exportPath+"/",callback(data.exportPath,fn)}}})}function setPortee(uuid,port,value,callback){$.ajax({url:"http://127.0.0.1:"+port+"/libheredis/appServices/changePortee",type:"POST",dataType:"json",data:{uuid:uuid,portee:value},success:function(data){void 0!==data.title&&void 0!==data.period&&$("#titre").html(data.title+" "+data.period),callback()}})}function getSourceById(uuid,port,codeID){$.ajax({url:"http://127.0.0.1:"+port+"/libheredis/appServices/navigate/ouvreDicoSources",type:"POST",data:{codeIdSource:codeID,uuid:uuid},success:function(data){}})}function getSourceDetail(uuid,port,codeID,codeIDEvt){console.log(codeIDEvt),void 0===codeIDEvt&&(codeIDEvt=0),$.ajax({url:"http://127.0.0.1:"+port+"/libheredis/appServices/navigate/saisieSource",type:"POST",data:{codeIdSource:codeID,uuid:uuid,codeidProprio:codeIDEvt},success:function(data){}})}function getEvenementIndividu(uuid,port,codeID){0!==codeID&&$.ajax({url:"http://127.0.0.1:"+port+"/libheredis/appServices/navigate/evenement",type:"POST",data:{uuid:uuid,codeIdEvenement:codeID},success:function(data){}})}function getFicheIndividu(uuid,port,codeID){0!==codeID&&$.ajax({url:"http://127.0.0.1:"+port+"/libheredis/appServices/navigate/individu",type:"POST",data:{uuid:uuid,codeIdIndi:codeID,sousOnglet:"noyauFamilial"},success:function(data){}})}function openNote(uuid,port,codeId){$.ajax({url:"http://127.0.0.1:"+port+"/libheredis/appServices/navigate/noteRecherche",type:"POST",dataType:"json",data:{uuid:uuid,codeIdNote:codeId},success:function(){}})}function getFicheUnion(uuid,port,codeID){0!==codeID&&$.ajax({url:"http://127.0.0.1:"+port+"/libheredis/appServices/navigate/union",type:"POST",data:{uuid:uuid,codeIdUnion:codeID},success:function(data){}})}function ouvrirDicoSources(uuid,port){$.ajax({url:"http://127.0.0.1:"+port+"/libheredis/appServices/navigate/ouvreDicoSources",type:"POST",data:{codeIdSource:0,uuid:uuid},success:function(data){}})}function ouvrirDicoNoms(uuid,port,codeID){$.ajax({url:"http://127.0.0.1:"+port+"/libheredis/appServices/navigate/ouvreDicoNoms",type:"POST",data:{uuid:uuid,codeIdNom:codeID},success:function(data){}})}function ouvrirDicoLieux(uuid,port,codeID){$.ajax({url:"http://127.0.0.1:"+port+"/libheredis/appServices/navigate/ouvreDicoLieux",type:"POST",data:{uuid:uuid,codeIdLieu:codeID},success:function(data){}})}function ouvrirDicoPrenoms(uuid,port,codeID){$.ajax({url:"http://127.0.0.1:"+port+"/libheredis/appServices/navigate/ouvreDicoPrenoms",type:"POST",data:{uuid:uuid,codeIdPrenom:codeID},success:function(data){}})}function ouvrirDicoProfessions(uuid,port,codeID){$.ajax({url:"http://127.0.0.1:"+port+"/libheredis/appServices/navigate/ouvreDicoProfessions",type:"POST",data:{uuid:uuid,codeIdProfession:codeID},success:function(data){}})}function ouvrirDicoMedias(uuid,port,codeID){$.ajax({url:"http://127.0.0.1:"+port+"/libheredis/appServices/navigate/ouvreDicoMedias",type:"POST",data:{uuid:uuid,codeIdMedia:codeID},success:function(data){}})}function connectToHOLAccount(uuid,port,callback){$.ajax({url:"http://127.0.0.1:"+port+"/libheredis/appServices/navigate/hol",type:"POST",data:{uuid:uuid,action:"account"},success:function(data){callback()}})}function isConnectedHOL(idProcess,uuid,port,callback){$.ajax({url:"http://127.0.0.1:"+port+"/libheredis/appServices/dashHOL",type:"POST",dataType:"json",data:{uuid:uuid},success:function(data){data.holConnected&&(callback(),clearInterval(idProcess))}})}function publishFile(uuid,port){$.ajax({url:"http://127.0.0.1:"+port+"/libheredis/appServices/navigate/hol",type:"POST",data:{uuid:uuid,action:"publish"},success:function(data){}})}function saveFile(uuid,port){$.ajax({url:"http://127.0.0.1:"+port+"/libheredis/appServices/navigate/hol",type:"POST",data:{uuid:uuid,action:"save"},success:function(data){}})}function resumeIndividu(uuid,port,codeID){0!==codeID&&$.ajax({url:"http://127.0.0.1:"+port+"/libheredis/appServices/navigate/resumeIndividu",type:"POST",data:{uuid:uuid,codeIdIndi:codeID},success:function(data){}})}function markDatabaseChanged(uuid,port){$.ajax({url:"http://127.0.0.1:"+port+"/libheredis/appServices/markDatabaseChanged",type:"POST",data:{uuid:uuid},success:function(data){}})}function markFileAsModified(uuid,port){$.ajax({url:"http://127.0.0.1:"+port+"/libheredis/appServices/markFileAsModified",type:"POST",data:{uuid:uuid},success:function(data){}})}function getEph(cache,type,page,currentPeriode,titre,uuid,port,callback,currentLi){callback(type,"",page,titre,currentLi,callback)}function getUnionChildBirthdayGap(port,uuid,context,callback){$.ajax({url:"http://127.0.0.1:"+port+"/libheredis/stat/unionChildBirthdayGap",type:"POST",dataType:"json",data:{uuid:uuid},success:function(data){callback(data[0].value)}})}function getPhotosFromAlbums(url,callback){$.ajax({url:decodeURIComponent(url),type:"GET",dataType:"json",success:function(data){callback(data)}})}function getDetailIndividu(port,uuid,links,implexeIndi,codeIdIndi,indexIndi,callback,type,callback2,callback3){var sexeEnumSosa={63:"../Common/Resources/sexe/ico-sex-ind-sosa.png",102:"../Common/Resources/sexe/ico-sex-fem-sosa.png",109:"../Common/Resources/sexe/ico-sex-hom-sosa.png"},sexeEnum={63:"../Common/Resources/sexe/ico-sex-ind.png",102:"../Common/Resources/sexe/ico-sex-fem.png",109:"../Common/Resources/sexe/ico-sex-hom.png"},sexeEnumExport={63:localisedString.HNLOC_DASH_TAB_GENERATION_DETAIL_INDETERMINE,102:localisedString.HNLOC_DASH_TAB_GENERATION_DETAIL_FEMME,109:localisedString.HNLOC_DASH_TAB_GENERATION_DETAIL_HOMME},filiationEnum={0:"../Common/Resources/filiation/non.png",1:"../Common/Resources/filiation/papa.png",2:"../Common/Resources/filiation/maman.png",3:"../Common/Resources/filiation/complet.png"},filiationExportEnum={0:localisedString.HNLOC_DASH_TAB_GENERATION_DETAIL_FILIATION_NON,1:localisedString.HNLOC_DASH_TAB_GENERATION_DETAIL_FILIATION_PERE,2:localisedString.HNLOC_DASH_TAB_GENERATION_DETAIL_FILIATION_MERE,3:localisedString.HNLOC_DASH_TAB_GENERATION_DETAIL_FILIATION_PERE_MERE},indexWidget="none";void 0!==type&&(indexWidget=type);var requete=$.ajax({indexWidget:indexWidget,url:"http://127.0.0.1:"+port+"/libheredis/generationTable/individu",type:"POST",dataType:"json",data:{uuid:uuid,codeId:codeIdIndi,linksCodeIds:links},success:function(data){var hasBirthSource="hidden",hasDeathSource="hidden",isComplete="none",urlIconNote="../Common/Resources/noteV.png",dateN="",lieuN="",lieuD="",dateD="",urlSexeImg="",numSosa="",birthTooltip="",deathTooltip="";data.isFicheComplete&&void 0!==data.isFicheComplete&&(isComplete="block"),void 0!==data.birth.sources&&data.birth.sources.length>0&&(hasBirthSource="visible"),void 0!==data.death.sources&&data.death.sources.length>0&&(hasDeathSource="visible"),void 0!==data.birth.date&&(dateN=data.birth.date),void 0!==data.birth.place&&(lieuN=data.birth.place),void 0!==data.death.place&&(lieuD=data.death.place),void 0!==data.death.date&&(dateD=data.death.date),0!==data.note.codeId&&(urlIconNote="../Common/Resources/noteP.png"),0===Number(data.numSosa)?(urlSexeImg=sexeEnum[data.sexe],numSosa=""):(urlSexeImg=sexeEnumSosa[data.sexe],numSosa=data.isSosaMultiple?data.numSosa+"++":data.numSosa),void 0!==data.birth.tooltip&&(birthTooltip=data.birth.tooltip),void 0!==data.death.tooltip&&(deathTooltip=data.death.tooltip);var implexeIndicator="#000000";implexeIndi>0&&(implexeIndicator="#FF0000");var indiInfo={implexe:implexeIndi,implexeIndicator:implexeIndicator,timestamp:data.timestamp,index:Number(indexIndi),codeId:data.codeId,sosa:numSosa,urlSexe:urlSexeImg,nom:data.usualNames,dateN:dateN,lieuN:lieuN,codeIdN:data.birth.codeId,codeIdD:data.death.codeId,dateD:dateD,lieuD:lieuD,filiation:filiationEnum[data.filiation],filiationExportSymbol:filiationExportEnum[data.filiation],hasBirthSource:hasBirthSource,hasDeathSource:hasDeathSource,hasUnionSource:"hidden",birthIsCompleted:data.birth.isCompleted,deathIsCompleted:data.death.isCompleted,birthSrcs:data.birth.sources,deathSrcs:data.death.sources,birthTooltip:birthTooltip,deathTooltip:deathTooltip,unions:data.unions,conjoint:{usualNames:""},noteId:data.note.codeId,noteContent:data.note.content,urlIconNote:urlIconNote,displayLinksAndImg:"visible",indexUnion:0,codeIdU:0,dateU:"",lieuU:"",isAssumedAlive:data.isAssumedAlive,sexe:sexeEnumExport[data.sexe],isFicheComplete:data.isFicheComplete,DisplayIsCompleteIcon:isComplete};callback(indiInfo)}});"tabGenDetail"!==type&&requete.always(function(){void 0!==callback2&&callback2()})}