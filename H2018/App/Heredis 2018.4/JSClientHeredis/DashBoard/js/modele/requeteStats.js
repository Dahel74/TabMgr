function getNaissanceDeces(cache,type,page,currentPeriode,titre,uuid,port,callback,currentLi){$(currentLi).find(".contenu > div").html(vueSimpleEtApercu),kendo.ui.progress($(currentLi).find(".contenu"),!0),$(currentLi).find(".stats").remove(),$(currentLi).find(".ouvrirDico").remove(),void 0!==cache[type]?callback(type,cache[type].dataWidget,page,titre,currentLi,getNaissanceDeces,"naissanceDeces"):$.ajax({indexWidget:type,url:"http://127.0.0.1:"+port+"/libheredis/stat/demographyByDate",type:"POST",dataType:"json",data:{uuid:uuid,pad:0},success:function(data){var arraysData=[],dataWidget=[];if(void 0!==data&&0!==data.length&&0===data[0].value&&0===data[1].value&&data.length<3)arraysData=[];else if(void 0!==data&&0!==data.length)for(var i=0;i<data.length;i++)"birth"===data[i].typeName?1===data[i].value?arraysData.push({value:data[i].value,type:localisedString.HNLOC_DASH_NAISSANCEDECES_Naissance_LABEL_MAJ_PLURIEL,index:data[i].index,date:data[i].fromDate,tooltip:localisedString.HNLOC_DASH_NAISSANCEDECES_Naissance_LABEL_MIN_SINGULIER}):arraysData.push({value:data[i].value,type:localisedString.HNLOC_DASH_NAISSANCEDECES_Naissance_LABEL_MAJ_PLURIEL,index:data[i].index,date:data[i].fromDate,tooltip:localisedString.HNLOC_DASH_NAISSANCEDECES_Naissance_LABEL_MIN_PLURIEL}):"death"===data[i].typeName&&(1===data[i].value?arraysData.push({value:data[i].value,type:localisedString.HNLOC_DASH_NAISSANCEDECES_Deces_LABEL_MAJ_PLURIEL,index:data[i].index,date:data[i].fromDate,tooltip:localisedString.HNLOC_DASH_NAISSANCEDECES_Deces_LABEL_MIN_SINGULIER}):arraysData.push({value:data[i].value,type:localisedString.HNLOC_DASH_NAISSANCEDECES_Deces_LABEL_MAJ_PLURIEL,index:data[i].index,date:data[i].fromDate,tooltip:localisedString.HNLOC_DASH_NAISSANCEDECES_Deces_LABEL_MIN_PLURIEL}));dataWidget.push(localisedString.HNLOC_DASH_NAISSANCEDECES_NaissanceDeces_LABEL);var pdata=[];if(pdata.push(arraysData),pdata.push(["#b648e5","#333333"]),pdata.push(localisedString.HNLOC_DASH_ANNEE_SINGULIER),dataWidget.push(pdata),void 0===cache[type]){var cachedData={};cachedData.dataWidget=dataWidget,cache[type]=cachedData}callback(type,dataWidget,page,titre,currentLi,getNaissanceDeces,"naissanceDeces")},error:function(){}})}function getNaissanceDecesDetail(cache,context,titre,uuid,port,callback,intervalAnnee,formatDate){console.log(intervalAnnee);var graphContainer=$(context[0]),tabContainer=$(context[1]);if("periode"===formatDate&&void 0!==cache.naissanceDecesDetail&&void 0!==cache.naissanceDecesDetail.year[intervalAnnee])0===cache.naissanceDecesDetail.year[intervalAnnee].dataWidgetG[0].length?(graphContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>"),tabContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>")):(callback("bar2",cache.naissanceDecesDetail.year[intervalAnnee].dataWidgetG,graphContainer,titre,""),callback("grid",cache.naissanceDecesDetail.year[intervalAnnee].dataWidgetT,tabContainer,titre));else if("mois"===formatDate&&void 0!==cache.naissanceDecesDetail&&void 0!==cache.naissanceDecesDetail.month)callback("bar2",cache.naissanceDecesDetail.month.dataWidgetG,graphContainer,titre,""),callback("grid",cache.naissanceDecesDetail.month.dataWidgetT,tabContainer,titre);else{var typeRequete="",intituleDate="";"periode"===formatDate?(typeRequete="demographyByDate",intituleDate=localisedString.HNLOC_DASH_ANNEE_SINGULIER):"mois"===formatDate&&(typeRequete="demographyByMonth",intituleDate=localisedString.HNLOC_DASH_MOIS),void 0===intervalAnnee&&(intervalAnnee=10),kendo.ui.progress(graphContainer,!0),kendo.ui.progress(tabContainer,!0),$.ajax({indexWidget:"naissanceDecesDetail",url:"http://127.0.0.1:"+port+"/libheredis/stat/"+typeRequete,type:"POST",dataType:"json",data:{uuid:uuid,pad:intervalAnnee},success:function(data){var arraysDataG=[],arraysDataT=[],dataWidgetG=[],dataWidgetT=[];if("periode"===formatDate&&void 0!==data){for(var i=0;i<data.length;i++)"birth"===data[i].typeName?1===data[i].value?arraysDataG.push({value:data[i].value,type:localisedString.HNLOC_DASH_NAISSANCEDECES_Naissance_LABEL_MAJ_PLURIEL,index:data[i].index,date:data[i].fromDate+localisedString.HNLOC_TRAIT_UNION+data[i].toDate,tooltip:localisedString.HNLOC_DASH_NAISSANCEDECES_Naissance_LABEL_MIN_SINGULIER}):arraysDataG.push({value:data[i].value,type:localisedString.HNLOC_DASH_NAISSANCEDECES_Naissance_LABEL_MAJ_PLURIEL,index:data[i].index,date:data[i].fromDate+localisedString.HNLOC_TRAIT_UNION+data[i].toDate,tooltip:localisedString.HNLOC_DASH_NAISSANCEDECES_Naissance_LABEL_MIN_PLURIEL}):"death"===data[i].typeName&&(1===data[i].value?arraysDataG.push({value:data[i].value,type:localisedString.HNLOC_DASH_NAISSANCEDECES_Deces_LABEL_MAJ_PLURIEL,index:data[i].index,date:data[i].fromDate+localisedString.HNLOC_TRAIT_UNION+data[i].toDate,tooltip:localisedString.HNLOC_DASH_NAISSANCEDECES_Deces_LABEL_MIN_SINGULIER}):arraysDataG.push({value:data[i].value,type:localisedString.HNLOC_DASH_NAISSANCEDECES_Deces_LABEL_MAJ_PLURIEL,index:data[i].index,date:data[i].fromDate+localisedString.HNLOC_TRAIT_UNION+data[i].toDate,tooltip:localisedString.HNLOC_DASH_NAISSANCEDECES_Deces_LABEL_MIN_PLURIEL}));for(i=0;i<data.length;i++)for(var j=0;j<data.length;j++)data[i].index===data[j].index&&data[i].typeName!==data[j].typeName&&j>i&&arraysDataT.push({naissance:data[i].value,deces:data[j].value,date:data[i].fromDate+localisedString.HNLOC_TRAIT_UNION+data[i].toDate})}else if("mois"===formatDate&&void 0!==data){for(i=0;i<data.length;i++)"birth"===data[i].typeName?1===data[i].value?arraysDataG.push({value:data[i].value,type:localisedString.HNLOC_DASH_NAISSANCEDECES_Naissance_LABEL_MAJ_PLURIEL,index:data[i].index,date:localisedString["HNLOC_DASH_MONTHS_"+data[i].monthValue],tooltip:localisedString.HNLOC_DASH_NAISSANCEDECES_Naissance_LABEL_MIN_SINGULIER}):arraysDataG.push({value:data[i].value,type:localisedString.HNLOC_DASH_NAISSANCEDECES_Naissance_LABEL_MAJ_PLURIEL,index:data[i].index,date:localisedString["HNLOC_DASH_MONTHS_"+data[i].monthValue],tooltip:localisedString.HNLOC_DASH_NAISSANCEDECES_Naissance_LABEL_MIN_PLURIEL}):"death"===data[i].typeName&&(1===data[i].value?arraysDataG.push({value:data[i].value,type:localisedString.HNLOC_DASH_NAISSANCEDECES_Deces_LABEL_MAJ_PLURIEL,index:data[i].index,date:localisedString["HNLOC_DASH_MONTHS_"+data[i].monthValue],tooltip:localisedString.HNLOC_DASH_NAISSANCEDECES_Deces_LABEL_MIN_SINGULIER}):arraysDataG.push({value:data[i].value,type:localisedString.HNLOC_DASH_NAISSANCEDECES_Deces_LABEL_MAJ_PLURIEL,index:data[i].index,date:localisedString["HNLOC_DASH_MONTHS_"+data[i].monthValue],tooltip:localisedString.HNLOC_DASH_NAISSANCEDECES_Deces_LABEL_MIN_PLURIEL}));for(i=0;i<data.length;i++)for(j=0;j<data.length;j++)data[i].index===data[j].index&&data[i].typeName!==data[j].typeName&&j>i&&arraysDataT.push({naissance:data[i].value,deces:data[j].value,date:localisedString["HNLOC_DASH_MONTHS_"+data[i].monthValue]})}dataWidgetG.push(arraysDataG),dataWidgetG.push(["#b648e5","#333333"]),dataWidgetG.push(localisedString.HNLOC_DASH_ANNEE_SINGULIER),dataWidgetT.push(arraysDataT),dataWidgetT.push([{field:"date",title:intituleDate,width:"100px"},{field:"naissance",title:localisedString.HNLOC_DASH_TITLE_TAB_NBNAISSANCE,width:"100px",aggregates:["average"],footerTemplate:localisedString.HNLOC_DASH_TOTAL+localisedString.HNLOC_2_POINTS+" #= sum #"},{field:"deces",title:localisedString.HNLOC_DASH_TITLE_TAB_NBDECES,width:"100px",aggregates:["average"],footerTemplate:localisedString.HNLOC_DASH_TOTAL+localisedString.HNLOC_2_POINTS+" #= sum #"}]);var cachedData={};cachedData.dataWidgetG=dataWidgetG,cachedData.dataWidgetT=dataWidgetT,void 0===cache.naissanceDecesDetail&&(cache.naissanceDecesDetail={}),"periode"===formatDate?(void 0===cache.naissanceDecesDetail.year&&(cache.naissanceDecesDetail.year={}),void 0===cache.naissanceDecesDetail.year[intervalAnnee]&&(cache.naissanceDecesDetail.year[intervalAnnee]=cachedData)):"mois"===formatDate&&void 0===cache.naissanceDecesDetail.month&&(cache.naissanceDecesDetail.month=cachedData),0===arraysDataG.length?(graphContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>"),tabContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>")):(callback("bar2",dataWidgetG,graphContainer,titre,"",intervalAnnee),callback("grid",dataWidgetT,tabContainer,titre))},error:function(){}})}}function getDeces(cache,context,titre,uuid,port,callback,currentLi){var graphContainer=context[0],tabContainer=context[1];void 0!==cache.deces?0===cache.deces.dataWidgetG[0].length?(graphContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>"),tabContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>")):(callback("bar2",cache.deces.dataWidgetG,graphContainer,titre),callback("grid",cache.deces.dataWidgetT,tabContainer,titre)):(kendo.ui.progress(graphContainer,!0),kendo.ui.progress(tabContainer,!0),$.ajax({indexWidget:"deces",url:"http://127.0.0.1:"+port+"/libheredis/stat/deathAge",type:"POST",dataType:"json",data:{uuid:uuid},success:function(data){for(var arraysDataG=[],dataWidgetG=[],arraysDataT=[],dataWidgetT=[],i=0;i<data.length;i++)"men"===data[i].typeName?1===data[i].value?arraysDataG.push({value:data[i].value,type:localisedString.HNLOC_DASH_STATS_HOMME_MAJ_PLURIEL,index:data[i].index,date:data[i].fromAge+localisedString.HNLOC_TRAIT_UNION+data[i].toAge,tooltip:localisedString.HNLOC_DASH_STATS_HOMME_MIN_SINGULIER}):arraysDataG.push({value:data[i].value,type:localisedString.HNLOC_DASH_STATS_HOMME_MAJ_PLURIEL,index:data[i].index,date:data[i].fromAge+localisedString.HNLOC_TRAIT_UNION+data[i].toAge,tooltip:localisedString.HNLOC_DASH_STATS_HOMME_MIN_PLURIEL}):"women"===data[i].typeName&&(1===data[i].value?arraysDataG.push({value:data[i].value,type:localisedString.HNLOC_DASH_STATS_FEMME_MAJ_PLURIEL,index:data[i].index,date:data[i].fromAge+localisedString.HNLOC_TRAIT_UNION+data[i].toAge,tooltip:localisedString.HNLOC_DASH_STATS_FEMME_MIN_SINGULIER}):arraysDataG.push({value:data[i].value,type:localisedString.HNLOC_DASH_STATS_FEMME_MAJ_PLURIEL,index:data[i].index,date:data[i].fromAge+localisedString.HNLOC_TRAIT_UNION+data[i].toAge,tooltip:localisedString.HNLOC_DASH_STATS_FEMME_MIN_PLURIEL}));for(i=0;i<data.length;i++)for(var j=0;j<data.length;j++)data[i].index===data[j].index&&data[i].typeName!==data[j].typeName&&j>i&&arraysDataT.push({decesF:data[i].value,decesH:data[j].value,date:data[i].fromAge+localisedString.HNLOC_TRAIT_UNION+data[i].toAge});if(dataWidgetG.push(arraysDataG),dataWidgetG.push(["#2671d5","#BB48C5"]),dataWidgetG.push(localisedString.HNLOC_DASH_TRANCHEAGE),dataWidgetT.push(arraysDataT),dataWidgetT.push([{field:"date",title:localisedString.HNLOC_DASH_TRANCHEAGE},{field:"decesF",title:localisedString.HNLOC_DASH_TITLE_TAB_NBDECES_HOMMES,aggregates:["average"],footerTemplate:localisedString.HNLOC_DASH_TOTAL+localisedString.HNLOC_2_POINTS+" #= sum #"},{field:"decesH",title:localisedString.HNLOC_DASH_TITLE_TAB_NBDECES_FEMMES,aggregates:["average"],footerTemplate:localisedString.HNLOC_DASH_TOTAL+localisedString.HNLOC_2_POINTS+" #= sum #"}]),void 0===cache.deces){var cachedData={};cachedData.dataWidgetG=dataWidgetG,cachedData.dataWidgetT=dataWidgetT,cache.deces=cachedData}0===arraysDataG.length?(graphContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>"),tabContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>")):(callback("bar2",dataWidgetG,graphContainer,titre),callback("grid",dataWidgetT,tabContainer,titre))},error:function(){}}))}function getLongevite(cache,context,titre,uuid,port,callback,intervalAnnee,formatDate){var graphContainer=context[0],tabContainer=context[1];void 0!==cache.longevite&&void 0!==cache.longevite.year[intervalAnnee]?0===cache.longevite.year[intervalAnnee].dataWidgetG[0].length?(graphContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>"),tabContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>")):(callback("point",cache.longevite.year[intervalAnnee].dataWidgetG,graphContainer,titre,""),callback("grid",cache.longevite.year[intervalAnnee].dataWidgetT,tabContainer,titre)):(void 0===intervalAnnee&&(intervalAnnee=10),kendo.ui.progress(graphContainer,!0),kendo.ui.progress(tabContainer,!0),$.ajax({indexWidget:"longevite",url:"http://127.0.0.1:"+port+"/libheredis/stat/longevityByDate",type:"POST",dataType:"json",data:{uuid:uuid,pad:intervalAnnee},success:function(data){var arraysDataG=[],dataWidgetG=[],arraysDataT=[],dataWidgetT=[];if(void 0!==data&&void 0!==data.data){for(var i=0;i<data.data.length;i++)data.data[i].value>0?"men"===data.data[i].typeName?arraysDataG.push({value:data.data[i].value,type:localisedString.HNLOC_DASH_STATS_HOMME_MAJ_PLURIEL,index:data.data[i].index,date:data.data[i].fromDate+localisedString.HNLOC_TRAIT_UNION+data.data[i].toDate}):"women"===data.data[i].typeName&&arraysDataG.push({value:data.data[i].value,type:localisedString.HNLOC_DASH_STATS_FEMME_MAJ_PLURIEL,index:data.data[i].index,date:data.data[i].fromDate+localisedString.HNLOC_TRAIT_UNION+data.data[i].toDate}):"men"===data.data[i].typeName?arraysDataG.push({type:localisedString.HNLOC_DASH_STATS_HOMME_MAJ_PLURIEL,index:data.data[i].index,date:data.data[i].fromDate+localisedString.HNLOC_TRAIT_UNION+data.data[i].toDate}):"women"===data.data[i].typeName&&arraysDataG.push({type:localisedString.HNLOC_DASH_STATS_FEMME_MAJ_PLURIEL,index:data.data[i].index,date:data.data[i].fromDate+localisedString.HNLOC_TRAIT_UNION+data.data[i].toDate});for(i=0;i<data.data.length;i+=2)arraysDataT.push({moyDecesH:data.data[i].value,moyDecesF:data.data[i+1].value,count1:data.data[i].count,count2:data.data[i+1].count,date:data.data[i].fromDate+localisedString.HNLOC_TRAIT_UNION+data.data[i].toDate})}dataWidgetG.push(arraysDataG),dataWidgetG.push(["#BB48C5","#2671d5"]),dataWidgetG.push(""),void 0!==data&&void 0!==data.globalStat&&(dataWidgetT.push(arraysDataT),dataWidgetT.push([{title:localisedString.HNLOC_DASH_ANNEE_SINGULIER,field:"date"},{title:localisedString.HNLOC_DASH_STATS_HOMME_MAJ_PLURIEL,columns:[{title:localisedString.HNLOC_DASH_TITLE_TAB_NBINDI,field:"count1",footerTemplate:localisedString.HNLOC_DASH_TOTAL+localisedString.HNLOC_2_POINTS+" #=sum#"},{title:localisedString.HNLOC_DASH_TITLE_TAB_MOY_AGEDECES,field:"moyDecesH",template:'#= kendo.toString(moyDecesH, "n1")#',footerTemplate:localisedString.HNLOC_DASH_MOYENNE_SINGULIER+localisedString.HNLOC_2_POINTS+"#= kendo.toString("+data.globalStat.AverageMenAge+', "n1")#'}]},{title:localisedString.HNLOC_DASH_STATS_FEMME_MAJ_PLURIEL,columns:[{title:localisedString.HNLOC_DASH_TITLE_TAB_NBINDI,field:"count2",footerTemplate:localisedString.HNLOC_DASH_TOTAL+localisedString.HNLOC_2_POINTS+"#= sum #"},{title:localisedString.HNLOC_DASH_TITLE_TAB_MOY_AGEDECES,field:"moyDecesF",template:'#= kendo.toString(moyDecesF, "n1")#',footerTemplate:localisedString.HNLOC_DASH_MOYENNE_SINGULIER+localisedString.HNLOC_2_POINTS+" #= kendo.toString("+data.globalStat.AverageWomenAge+', "n1")#'}]}]));var cachedData={};cachedData.dataWidgetG=dataWidgetG,cachedData.dataWidgetT=dataWidgetT,void 0===cache.longevite&&(cache.longevite={}),void 0===cache.longevite.year&&(cache.longevite.year={}),void 0===cache.longevite.year[intervalAnnee]&&(cache.longevite.year[intervalAnnee]=cachedData),0===arraysDataG.length?(graphContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>"),tabContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>")):(callback("point",dataWidgetG,graphContainer,titre,"",intervalAnnee),callback("grid",dataWidgetT,tabContainer,titre))},error:function(){}}))}function getRecensementDetail(cache,context,titre,uuid,port,callback,intervalAnnee){var graphContainer=context[0],tabContainer=context[1];void 0!==cache.recensement&&void 0!==cache.recensement.year[intervalAnnee]?0===cache.recensement.year[intervalAnnee].dataWidgetG[0].length?(graphContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>"),tabContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>")):(callback("stackBar",cache.recensement.year[intervalAnnee].dataWidgetG,graphContainer,titre,"",intervalAnnee),callback("grid",cache.recensement.year[intervalAnnee].dataWidgetT,tabContainer,titre)):(void 0===intervalAnnee&&(intervalAnnee=0),kendo.ui.progress(graphContainer,!0),kendo.ui.progress(tabContainer,!0),$.ajax({indexWidget:"recensement",url:"http://127.0.0.1:"+port+"/libheredis/stat/censusByDate",type:"POST",dataType:"json",data:{uuid:uuid,pad:intervalAnnee},success:function(data){for(var dataWidgetG=[],arraysDataG=[],dataWidgetT=[],arraysDataT=[],i=0;i<data.length;i++){var tooltipHomme="",tooltipFemme="";tooltipHomme=1===data[i].menCount?localisedString.HNLOC_DASH_STATS_HOMME_MIN_SINGULIER:localisedString.HNLOC_DASH_STATS_HOMME_MIN_PLURIEL,tooltipFemme=1===data[i].womenCount?localisedString.HNLOC_DASH_STATS_FEMME_MIN_SINGULIER:localisedString.HNLOC_DASH_STATS_FEMME_MIN_PLURIEL,arraysDataG.push({value:data[i].menCount,index:data[i].index,type:localisedString.HNLOC_DASH_STATS_HOMME_MAJ_PLURIEL,date:data[i].fromDate+localisedString.HNLOC_TRAIT_UNION+data[i].toDate,tooltip:tooltipHomme}),arraysDataG.push({value:data[i].womenCount,index:data[i].index,type:localisedString.HNLOC_DASH_STATS_FEMME_MAJ_PLURIEL,date:data[i].fromDate+localisedString.HNLOC_TRAIT_UNION+data[i].toDate,tooltip:tooltipFemme}),arraysDataT.push({nbF:data[i].womenCount,nbH:data[i].menCount,total:data[i].womenCount+data[i].menCount,date:data[i].fromDate+localisedString.HNLOC_TRAIT_UNION+data[i].toDate})}dataWidgetG.push(arraysDataG),dataWidgetG.push(["#2671d5","#BB48C5"]),dataWidgetG.push(localisedString.HNLOC_DASH_ANNEE_SINGULIER),dataWidgetT.push(arraysDataT),dataWidgetT.push([{title:localisedString.HNLOC_DASH_ANNEE_SINGULIER,field:"date"},{title:localisedString.HNLOC_DASH_TITLE_TAB_NBINDI,columns:[{title:localisedString.HNLOC_DASH_STATS_HOMME_MAJ_PLURIEL,field:"nbH"},{title:localisedString.HNLOC_DASH_STATS_FEMME_MAJ_PLURIEL,field:"nbF"},{title:localisedString.HNLOC_DASH_TOTAL,field:"total"}]}]);var cachedData={};cachedData.dataWidgetG=dataWidgetG,cachedData.dataWidgetT=dataWidgetT,void 0===cache.recensement&&(cache.recensement={}),void 0===cache.recensement.year&&(cache.recensement.year={}),void 0===cache.recensement.year[intervalAnnee]&&(cache.recensement.year[intervalAnnee]=cachedData),0===arraysDataG.length?(graphContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>"),tabContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>")):(callback("stackBar",dataWidgetG,graphContainer,titre,"",intervalAnnee),callback("grid",dataWidgetT,tabContainer,titre))}}))}function getPatronymesPrenomsCourants(cache,type,page,currentPeriode,titre,uuid,port,callback,currentLi){$(currentLi).find(".contenu > div").html(vueSimpleEtApercu),kendo.ui.progress($(currentLi).find(".contenu"),!0),$(currentLi).find(".stats > .total > .label").html(localisedString.HNLOC_DASH_NB_TOTAL_LABEL),$(currentLi).find(".stats > .total > .statsValue").html(0),$(currentLi).find(".stats > .ajoutRecent").remove(),$(currentLi).find(".stats").remove(),$(currentLi).find(".ouvrirDico").remove(),void 0!==cache[type]?callback(type,cache[type].dataWidget,page,titre,currentLi,getPatronymesPrenomsCourants,"patronymesPrenomsCourants"):$.ajax({indexWidget:type,url:"http://127.0.0.1:"+port+"/libheredis/request/nuageNom",type:"POST",dataType:"json",data:{uuid:uuid,detail:0,sexe:"all",cat:"stats",nb:6},success:function(data){var pdata=[],limite=6;data.nombre<6&&(limite=data.nombre);for(var i=0;i<limite;i++)pdata.push({pourcentage:data.noms[i].Poids,label:data.noms[i].Nom});var dataWidget=[];if(dataWidget.push(localisedString.HNLOC_DASH_NOMS_TITLE_PLURIEL),dataWidget.push(pdata),void 0===cache[type]){var cachedData={};cachedData.dataWidget=dataWidget,cache[type]=cachedData}callback(type,dataWidget,page,titre,currentLi,getPatronymesPrenomsCourants,"patronymesPrenomsCourants")}})}function getPatronymesCourants(cache,context,titre,uuid,port,callback,sexe){var graphContainer=context[0],tabContainer=context[1];void 0!==cache.patronymes&&void 0!==cache.patronymes.sexe[sexe]?0===cache.patronymes.sexe[sexe].dataWidgetG.length?(graphContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>"),tabContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>")):(callback("donut",cache.patronymes.sexe[sexe].dataWidgetG,graphContainer,titre),callback("grid",cache.patronymes.sexe[sexe].dataWidgetT,tabContainer,titre)):(kendo.ui.progress($(graphContainer),!0),kendo.ui.progress($(tabContainer),!0),$.ajax({indexWidget:"patronymes",url:"http://127.0.0.1:"+port+"/libheredis/request/nuageNom",type:"POST",dataType:"json",data:{uuid:uuid,detail:1,sexe:sexe},success:function(data){var limite=11,dataWidgetG=[],dataWidgetT=[],arraysDataT=[],poidsAutres=0;data.noms.length<11&&(limite=data.noms.length);for(var i=0;i<data.noms.length;i++)i<limite?dataWidgetG.push({pourcentage:data.noms[i].Poids,label:data.noms[i].Nom}):poidsAutres+=data.noms[i].Poids;0!==data.noms.length&&data.noms.length>11&&dataWidgetG.push({pourcentage:poidsAutres,label:localisedString.HNLOC_DASH_AUTRES});for(i=0;i<data.noms.length;i++)arraysDataT.push({nom:data.noms[i].Nom,nbNom:data.noms[i].Poids,dateFirstO:data.noms[i].minAn,dateLastO:data.noms[i].maxAn});dataWidgetT.push(arraysDataT),dataWidgetT.push([{field:"nom",title:localisedString.HNLOC_DASH_TITLE_TAB_NOM_SINGULIER},{field:"nbNom",title:localisedString.HNLOC_DASH_TITLE_TAB_INDIVIDU_PLURIEL},{title:localisedString.HNLOC_DASH_TITLE_TAB_APPARITION,columns:[{field:"dateFirstO",title:localisedString.HNLOC_DASH_TITLE_TAB_DEBUT},{field:"dateLastO",title:localisedString.HNLOC_DASH_TITLE_TAB_FIN}]}]);var cachedData={};cachedData.dataWidgetG=dataWidgetG,cachedData.dataWidgetT=dataWidgetT,void 0===cache.patronymes&&(cache.patronymes={}),void 0===cache.patronymes.sexe&&(cache.patronymes.sexe={}),void 0===cache.patronymes.sexe[sexe]&&(cache.patronymes.sexe[sexe]=cachedData),0===dataWidgetG.length?(graphContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>"),tabContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>")):(callback("donut",dataWidgetG,graphContainer,titre),callback("grid",dataWidgetT,tabContainer,titre))}}))}function getPrenomsCourants(cache,context,titre,uuid,port,callback,sexe){var graphContainer=context[0],tabContainer=context[1];void 0!==cache.prenoms&&void 0!==cache.prenoms.sexe[sexe]?0===cache.prenoms.sexe[sexe].dataWidgetG.length?(graphContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>"),tabContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>")):(callback("donut",cache.prenoms.sexe[sexe].dataWidgetG,graphContainer,titre),callback("grid",cache.prenoms.sexe[sexe].dataWidgetT,tabContainer,titre)):(kendo.ui.progress($(graphContainer),!0),kendo.ui.progress($(tabContainer),!0),$.ajax({indexWidget:"prenoms",url:"http://127.0.0.1:"+port+"/libheredis/request/nuagePrenom",type:"POST",dataType:"json",data:{uuid:uuid,detail:1,sexe:sexe},success:function(data){var limite=11,dataWidgetG=[],dataWidgetT=[],arraysDataT=[];data.prenoms.length<11&&(limite=data.prenoms.length);for(var poidsAutres=0,i=0;i<data.prenoms.length;i++)i<limite?dataWidgetG.push({pourcentage:data.prenoms[i].Poids,label:data.prenoms[i].Prenom}):poidsAutres+=data.prenoms[i].Poids;data.prenoms.length>0&&data.prenoms.length>11&&dataWidgetG.push({pourcentage:poidsAutres,label:localisedString.HNLOC_DASH_AUTRES});for(i=0;i<data.prenoms.length;i++)arraysDataT.push({prenom:data.prenoms[i].Prenom,nbPrenom:data.prenoms[i].Poids,dateFirstO:data.prenoms[i].minAn,dateLastO:data.prenoms[i].maxAn});dataWidgetT.push(arraysDataT),dataWidgetT.push([{field:"prenom",title:localisedString.HNLOC_DASH_TITLE_TAB_PRENOM_SINGULIER},{field:"nbPrenom",title:localisedString.HNLOC_DASH_TITLE_TAB_INDIVIDU_PLURIEL},{title:localisedString.HNLOC_DASH_TITLE_TAB_APPARITION,columns:[{field:"dateFirstO",title:localisedString.HNLOC_DASH_TITLE_TAB_DEBUT},{field:"dateLastO",title:localisedString.HNLOC_DASH_TITLE_TAB_FIN}]}]);var cachedData={};cachedData.dataWidgetG=dataWidgetG,cachedData.dataWidgetT=dataWidgetT,void 0===cache.prenoms&&(cache.prenoms={}),void 0===cache.prenoms.sexe&&(cache.prenoms.sexe={}),void 0===cache.prenoms.sexe[sexe]&&(cache.prenoms.sexe[sexe]=cachedData),0===dataWidgetG.length?(graphContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>"),tabContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>")):(callback("donut",dataWidgetG,graphContainer,titre),callback("grid",dataWidgetT,tabContainer,titre))},error:function(jqXHR,textStatus,errorThrown){console.log("session expiré")}}))}function getUnion(cache,type,page,currentPeriode,titre,uuid,port,callback,currentLi){$(currentLi).find(".contenu > div").html(vueSimpleEtApercu),kendo.ui.progress($(currentLi).find(".contenu"),!0),$(currentLi).find(".stats > .total > .label").html(localisedString.HNLOC_DASH_NB_TOTAL_LABEL),$(currentLi).find(".stats > .total > .statsValue").html(0),$(currentLi).find(".stats > .ajoutRecent").remove(),$(currentLi).find(".ouvrirDico").hide(),$(currentLi).find(".stats").remove(),void 0!==cache[type]?callback(type,cache[type].dataWidget,page,titre,currentLi,getUnion,"union"):$.ajax({indexWidget:type,url:"http://127.0.0.1:"+port+"/libheredis/stat/firstWeddingAgeByDate",type:"POST",dataType:"json",data:{uuid:uuid,pad:0},success:function(data){var dataWidget=[],arraysData=[];if(void 0!==data&&0!==data.data.length&&data.data.length<3)arraysData=[];else if(void 0!==data&&0!==data.data.length)for(var i=0;i<data.data.length;i++)"men"===data.data[i].typeName?data.data[i].totalMen>=0&&(0==data.data[i].averageMenAge&&(data.data[i].averageMenAge=null),arraysData.push({value:data.data[i].averageMenAge,type:localisedString.HNLOC_DASH_STATS_HOMME_MAJ_PLURIEL,nb:data.data[i].totalMen,index:data.data[i].index,date:data.data[i].fromDate})):"women"===data.data[i].typeName&&data.data[i].totalWomen>=0&&(0==data.data[i].averageWomenAge&&(data.data[i].averageWomenAge=null),arraysData.push({value:data.data[i].averageWomenAge,type:localisedString.HNLOC_DASH_STATS_FEMME_MAJ_PLURIEL,nb:data.data[i].totalWomen,index:data.data[i].index,date:data.data[i].fromDate}));dataWidget.push(localisedString.HNLOC_DASH_AGE_FIRST_UNION);var pdata=[];if(pdata.push(arraysData),pdata.push(["#BB48C5","#2671d5"]),pdata.push(localisedString.HNLOC_DASH_ANNEE_SINGULIER),dataWidget.push(pdata),void 0===cache[type]){var cachedData={};cachedData.dataWidget=dataWidget,cache[type]=cachedData}callback(type,dataWidget,page,titre,currentLi,getUnion,"union")}})}function getMoyenneAgeUnion(cache,context,titre,uuid,port,callback,intervalAnnee){var graphContainer=context[0],tabContainer=context[1];void 0!==cache.moyenneAgeUnion&&void 0!==cache.moyenneAgeUnion.year[intervalAnnee]?0===cache.moyenneAgeUnion.year[intervalAnnee].dataWidgetG[0].length?(graphContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>"),tabContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>")):(callback("point",cache.moyenneAgeUnion.year[intervalAnnee].dataWidgetG,graphContainer,titre,""),callback("grid",cache.moyenneAgeUnion.year[intervalAnnee].dataWidgetT,tabContainer,titre)):(void 0===intervalAnnee&&(intervalAnnee=0),kendo.ui.progress($(graphContainer),!0),kendo.ui.progress($(tabContainer),!0),$.ajax({indexWidget:"moyenneAgeUnion",url:"http://127.0.0.1:"+port+"/libheredis/stat/firstWeddingAgeByDate",type:"POST",dataType:"json",data:{uuid:uuid,pad:intervalAnnee},success:function(data){var dataWidgetG=[],arraysDataG=[],dataWidgetT=[],arraysDataT=[];if(void 0!==data&&void 0!==data.data){for(var i=0;i<data.data.length;i++)"men"===data.data[i].typeName?data.data[i].totalMen>=0&&(0==data.data[i].totalMen&&(data.data[i].averageMenAge=null),arraysDataG.push({value:data.data[i].averageMenAge,type:localisedString.HNLOC_DASH_STATS_HOMME_MAJ_PLURIEL,nb:data.data[i].totalMen,index:data.data[i].index,date:data.data[i].fromDate+localisedString.HNLOC_TRAIT_UNION+data.data[i].toDate})):"women"===data.data[i].typeName&&data.data[i].totalWomen>=0&&(0==data.data[i].totalWomen&&(data.data[i].averageWomenAge=null),arraysDataG.push({value:data.data[i].averageWomenAge,type:localisedString.HNLOC_DASH_STATS_FEMME_MAJ_PLURIEL,nb:data.data[i].totalWomen,index:data.data[i].index,date:data.data[i].fromDate+localisedString.HNLOC_TRAIT_UNION+data.data[i].toDate}));for(i=0;i<data.data.length;i++)for(var j=0;j<data.data.length;j++)data.data[i].index===data.data[j].index&&data.data[i].typeName!==data.data[j].typeName&&j>i&&(null==data.data[i].averageMenAge&&(data.data[i].averageMenAge=0),null==data.data[j].averageWomenAge&&(data.data[j].averageWomenAge=0),arraysDataT.push({nbHommes:data.data[i].totalMen,nbFemmes:data.data[j].totalWomen,moyUnionHommes:data.data[i].averageMenAge,moyUnionFemmes:data.data[j].averageWomenAge,date:data.data[i].fromDate+localisedString.HNLOC_TRAIT_UNION+data.data[i].toDate}))}dataWidgetG.push(arraysDataG),dataWidgetG.push(["#BB48C5","#2671d5"]),dataWidgetG.push(localisedString.HNLOC_DASH_ANNEE_SINGULIER),dataWidgetT.push(arraysDataT),dataWidgetT.push([{title:localisedString.HNLOC_DASH_ANNEE_SINGULIER,field:"date"},{title:localisedString.HNLOC_DASH_STATS_HOMME_MAJ_SINGULIER,columns:[{title:localisedString.HNLOC_DASH_TITLE_TAB_NBINDI,field:"nbHommes"},{title:localisedString.HNLOC_DASH_TITLE_TAB_MOY_AGEUNION,field:"moyUnionHommes",template:'#= kendo.toString(moyUnionHommes, "n1")#',footerTemplate:localisedString.HNLOC_DASH_MOYENNE_SINGULIER+localisedString.HNLOC_2_POINTS+" #= kendo.toString("+data.globalStat.AverageMenAge+', "n1")#'}]},{title:localisedString.HNLOC_DASH_STATS_FEMME_MAJ_SINGULIER,columns:[{title:localisedString.HNLOC_DASH_TITLE_TAB_NBINDI,field:"nbFemmes"},{title:localisedString.HNLOC_DASH_TITLE_TAB_MOY_AGEUNION,field:"moyUnionFemmes",template:'#= kendo.toString(moyUnionFemmes, "n1")#',footerTemplate:localisedString.HNLOC_DASH_MOYENNE_SINGULIER+localisedString.HNLOC_2_POINTS+" #= kendo.toString("+data.globalStat.AverageWomenAge+', "n1")#'}]}]);var cachedData={};cachedData.dataWidgetG=dataWidgetG,cachedData.dataWidgetT=dataWidgetT,void 0===cache.moyenneAgeUnion&&(cache.moyenneAgeUnion={}),void 0===cache.moyenneAgeUnion.year&&(cache.moyenneAgeUnion.year={}),void 0===cache.moyenneAgeUnion.year[intervalAnnee]&&(cache.moyenneAgeUnion.year[intervalAnnee]=cachedData),0===arraysDataG.length?(graphContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>"),tabContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>")):(callback("point",dataWidgetG,graphContainer,titre,"",intervalAnnee),callback("grid",dataWidgetT,tabContainer,titre))}}))}function getNbEnfantsUnion(cache,context,titre,uuid,port,callback,intervalAnnee){var graphContainer=context[0],tabContainer=context[1];void 0!==cache.nbEnfantsUnion&&void 0!==cache.nbEnfantsUnion.year[intervalAnnee]?0===cache.nbEnfantsUnion.year[intervalAnnee].dataWidgetG[0].length?(graphContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>"),tabContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>")):(callback("point",cache.nbEnfantsUnion.year[intervalAnnee].dataWidgetG,graphContainer,titre),callback("grid",cache.nbEnfantsUnion.year[intervalAnnee].dataWidgetT,tabContainer,titre)):(kendo.ui.progress($(graphContainer),!0),kendo.ui.progress($(tabContainer),!0),void 0===intervalAnnee&&(intervalAnnee=0),$.ajax({indexWidget:"nbEnfantsUnion",url:"http://127.0.0.1:"+port+"/libheredis/stat/unionChildrenByDate",type:"POST",dataType:"json",async:!0,data:{uuid:uuid,pad:intervalAnnee},success:function(data){for(var dataWidgetG=[],arraysDataG=[],dataWidgetT=[],arraysDataT=[],i=0;i<data.data.length;i++)data.data[i].unionCount>0&&arraysDataG.push({value:data.data[i].averageChildNumber,type:"",nb:data.data[i].unionCount,index:data.data[i].index,date:data.data[i].fromDate+localisedString.HNLOC_TRAIT_UNION+data.data[i].toDate});for(i=0;i<data.data.length;i++)arraysDataT.push({nbUnion:data.data[i].unionCount,moyEftUnion:data.data[i].averageChildNumber,date:data.data[i].fromDate+localisedString.HNLOC_TRAIT_UNION+data.data[i].toDate});dataWidgetG.push(arraysDataG),dataWidgetG.push(["#2671d5","#BB48C5"]),dataWidgetG.push(localisedString.HNLOC_DASH_ANNEE_SINGULIER),dataWidgetT.push(arraysDataT),dataWidgetT.push([{title:localisedString.HNLOC_DASH_ANNEE_SINGULIER,field:"date"},{title:localisedString.HNLOC_DASH_TITLE_TAB_NBUNION,field:"nbUnion",footerTemplate:localisedString.HNLOC_DASH_TOTAL+localisedString.HNLOC_2_POINTS+" #=sum#"},{title:localisedString.HNLOC_DASH_TITLE_TAB_MOY_NBENFANT_UNION,field:"moyEftUnion",template:'#= kendo.toString(moyEftUnion, "n1")#',footerTemplate:localisedString.HNLOC_DASH_MOYENNE_SINGULIER+localisedString.HNLOC_2_POINTS+" #= kendo.toString("+data.globalStat.average+', "n1")#'}]);var cachedData={};cachedData.dataWidgetG=dataWidgetG,cachedData.dataWidgetT=dataWidgetT,void 0===cache.nbEnfantsUnion&&(cache.nbEnfantsUnion={}),void 0===cache.nbEnfantsUnion.year&&(cache.nbEnfantsUnion.year={}),void 0===cache.nbEnfantsUnion.year[intervalAnnee]&&(cache.nbEnfantsUnion.year[intervalAnnee]=cachedData),0===arraysDataG.length?(graphContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>"),tabContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>")):(callback("point",dataWidgetG,graphContainer,titre),callback("grid",dataWidgetT,tabContainer,titre))}}))}function getMariage(cache,context,titre,uuid,port,callback,intervalAnnee,formatDate){var graphContainer=context[0],tabContainer=context[1];if("periode"===formatDate&&void 0!==cache.mariage&&void 0!==cache.mariage.year[intervalAnnee])0===cache.mariage.year[intervalAnnee].dataWidgetG[0].length?(graphContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>"),tabContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>")):(callback("point",cache.mariage.year[intervalAnnee].dataWidgetG,graphContainer,titre,""),callback("grid",cache.mariage.year[intervalAnnee].dataWidgetT,tabContainer,titre));else if("mois"===formatDate&&void 0!==cache.mariage&&void 0!==cache.mariage.month)0===cache.mariage.month.dataWidgetG[0].length?(graphContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>"),tabContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>")):(callback("point",cache.mariage.month.dataWidgetG,graphContainer,titre,""),callback("grid",cache.mariage.month.dataWidgetT,tabContainer,titre));else{var typeRequete="";void 0===intervalAnnee&&(intervalAnnee=0),"periode"===formatDate?typeRequete="weddingByDate":"mois"===formatDate&&(typeRequete="weddingByMonth"),kendo.ui.progress($(graphContainer),!0),kendo.ui.progress($(tabContainer),!0),$.ajax({indexWidget:"mariage",url:"http://127.0.0.1:"+port+"/libheredis/stat/"+typeRequete,type:"POST",dataType:"json",async:!0,data:{uuid:uuid,pad:intervalAnnee},success:function(data){var dataWidgetG=[],arraysDataG=[],dataWidgetT=[],arraysDataT=[];if(void 0!==data&&"periode"===formatDate)for(var i=0;i<data.length;i++)data[i].weddingCount>0&&data[i].index>1&&arraysDataG.push({value:data[i].weddingCount,index:data[i].index,type:"",date:data[i].fromDate+localisedString.HNLOC_TRAIT_UNION+data[i].toDate}),arraysDataT.push({nbMariage:data[i].weddingCount,date:data[i].fromDate+localisedString.HNLOC_TRAIT_UNION+data[i].toDate});else if(void 0!==data&&"mois"===formatDate)for(i=0;i<data.length;i++)data[i].value>0&&arraysDataG.push({value:data[i].value,index:data[i].index,type:"",date:localisedString["HNLOC_DASH_MONTHS_"+data[i].monthValue]}),arraysDataT.push({nbMariage:data[i].value,date:localisedString["HNLOC_DASH_MONTHS_"+data[i].monthValue]});dataWidgetG.push(arraysDataG),dataWidgetG.push(["#2671d5","#BB48C5"]),dataWidgetG.push(localisedString.HNLOC_DASH_ANNEE_SINGULIER),dataWidgetT.push(arraysDataT),dataWidgetT.push([{title:localisedString.HNLOC_DASH_ANNEE_SINGULIER,field:"date"},{title:localisedString.HNLOC_DASH_TITLE_TAB_NBUNION,field:"nbMariage",footerTemplate:localisedString.HNLOC_DASH_TOTAL+localisedString.HNLOC_2_POINTS+" #=sum#"}]);var cachedData={};cachedData.dataWidgetG=dataWidgetG,cachedData.dataWidgetT=dataWidgetT,void 0===cache.mariage&&(cache.mariage={}),"periode"===formatDate?(void 0===cache.mariage.year&&(cache.mariage.year={}),void 0===cache.mariage.year[intervalAnnee]&&(cache.mariage.year[intervalAnnee]=cachedData)):"mois"===formatDate&&void 0===cache.mariage.month&&(cache.mariage.month=cachedData),0===arraysDataG.length?(graphContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>"),tabContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>")):(callback("point",dataWidgetG,graphContainer,titre,""),callback("grid",dataWidgetT,tabContainer,titre))}})}}function getDenombrement(cache,type,page,currentPeriode,titre,uuid,port,callback,currentLi){$(currentLi).find(".contenu > div").html(vueSimpleEtApercu),kendo.ui.progress($(currentLi).find(".contenu"),!0),$(currentLi).find(".stats > .total > .statsValue").css({"font-size":"15px","margin-top":"5px",float:"none"}),$(currentLi).find(".stats > .total").css({"text-align":"left",padding:"10px 5px 0 5px"}),$(currentLi).find(".stats > .ajoutRecent").remove(),$(currentLi).find(".stats > .total > .label").remove(),$(currentLi).find(".ouvrirDico").hide(),void 0!==cache.denombrement?($(currentLi).find(".stats > .total > .statsValue").html('<a data-infoid="'+cache.denombrement.centralInfo.id+'">'+cache.denombrement.centralInfo.usualNames+"</a>"),callback(type,cache.denombrement.dataWidget,page,titre,currentLi,getDenombrement,"denombrement")):$.ajax({indexWidget:type,url:"http://127.0.0.1:"+port+"/libheredis/stat/ascendancyEnumeration",type:"POST",dataType:"json",data:{uuid:uuid,pad:0},success:function(data){$(currentLi).find(".stats > .total > .statsValue").html('<a data-infoid="'+data.centralInfo.id+'">'+data.centralInfo.usualNames+"</a>");var dataWidget=[],arraysData=[];if(0===data.data[0].uniqueCount&&data.data.length<2);else for(var i=0;i<data.data.length;i++)1===data.data[i].individuFoundCount?arraysData.push({value:data.data[i].individuFoundCount,index:data.data[i].index,type:localisedString.HNLOC_DASH_TITLE_TAB_TROUVES_MAJ_PLURIEL,date:data.data[i].generation,tooltip:localisedString.HNLOC_DASH_TITLE_TAB_TROUVES_MIN_SINGULIER}):arraysData.push({value:data.data[i].individuFoundCount,index:data.data[i].index,type:localisedString.HNLOC_DASH_TITLE_TAB_TROUVES_MAJ_PLURIEL,date:data.data[i].generation,tooltip:localisedString.HNLOC_DASH_TITLE_TAB_TROUVES_MIN_PLURIEL}),1===data.data[i].uniqueCount?arraysData.push({value:data.data[i].uniqueCount,index:data.data[i].index,type:localisedString.HNLOC_DASH_TITLE_TAB_DISTINCTS_MAJ_PLURIEL,date:data.data[i].generation,tooltip:localisedString.HNLOC_DASH_TITLE_TAB_DISTINCTS_MIN_SINGULIER}):arraysData.push({value:data.data[i].uniqueCount,index:data.data[i].index,type:localisedString.HNLOC_DASH_TITLE_TAB_DISTINCTS_MAJ_PLURIEL,date:data.data[i].generation,tooltip:localisedString.HNLOC_DASH_TITLE_TAB_DISTINCTS_MIN_PLURIEL});dataWidget.push(localisedString.HNLOC_DASH_DENOMBREMENT_denombrementAsc_TITLE);var pdata=[];if(pdata.push(arraysData),pdata.push(["#2671d5","#BB48C5"]),pdata.push(localisedString.HNLOC_DASH_TITLE_TAB_GENERATION),dataWidget.push(pdata),void 0===cache.denombrement){var cachedData={};cachedData.dataWidget=dataWidget,cachedData.centralInfo=data.centralInfo,cache.denombrement=cachedData}callback(type,dataWidget,page,titre,currentLi,getDenombrement,"denombrement")}})}function getDenombrementAsc(cache,context,titre,uuid,port,callback){var graphContainer=context[0],tabContainer=context[1];void 0!==cache.denombrementAsc?0===cache.denombrementAsc.dataWidgetG[0].length?(graphContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>"),tabContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>")):(callback("bar2",cache.denombrementAsc.dataWidgetG,graphContainer,titre),callback("grid",cache.denombrementAsc.dataWidgetT,tabContainer,titre)):(kendo.ui.progress($(graphContainer),!0),kendo.ui.progress($(tabContainer),!0),$.ajax({indexWidget:"denombrementAsc",url:"http://127.0.0.1:"+port+"/libheredis/stat/ascendancyEnumeration",type:"POST",dataType:"json",data:{uuid:uuid},success:function(data){for(var dataWidgetG=[],arraysDataG=[],dataWidgetT=[],arraysDataT=[],i=0;i<data.data.length;i++)data.data[i].uniqueCount>=0&&(1===data.data[i].uniqueCount||0===data.data[i].uniqueCount?arraysDataG.push({value:data.data[i].uniqueCount,index:data.data[i].index,type:localisedString.HNLOC_DASH_TITLE_TAB_DISTINCTS_MAJ_PLURIEL,date:data.data[i].generation,tooltip:localisedString.HNLOC_DASH_TITLE_TAB_DISTINCTS_MIN_SINGULIER}):arraysDataG.push({value:data.data[i].uniqueCount,index:data.data[i].index,type:localisedString.HNLOC_DASH_TITLE_TAB_DISTINCTS_MAJ_PLURIEL,date:data.data[i].generation,tooltip:localisedString.HNLOC_DASH_TITLE_TAB_DISTINCTS_MIN_PLURIEL})),data.data[i].individuFoundCount>=0&&(1===data.data[i].individuFoundCount||0===data.data[i].individuFoundCount?arraysDataG.push({value:data.data[i].individuFoundCount,index:data.data[i].index,type:localisedString.HNLOC_DASH_TITLE_TAB_TROUVES_MAJ_PLURIEL,date:data.data[i].generation,tooltip:localisedString.HNLOC_DASH_TITLE_TAB_TROUVES_MIN_SINGULIER}):arraysDataG.push({value:data.data[i].individuFoundCount,index:data.data[i].index,type:localisedString.HNLOC_DASH_TITLE_TAB_TROUVES_MAJ_PLURIEL,date:data.data[i].generation,tooltip:localisedString.HNLOC_DASH_TITLE_TAB_TROUVES_MIN_PLURIEL}));for(i=0;i<data.data.length;i++)void 0===data.data[i].implexeRatio&&(data.data[i].implexeRatio=0),arraysDataT.push({tauxImplexe:data.data[i].implexeRatio,cumulDistincts:data.data[i].cumulUniqueGenerationCount,cumulTrouves:data.data[i].cumulIndividuFoundCount,cumulAncetreTheo:data.data[i].cumulMaxTotal,Distincts:data.data[i].uniqueCount,Trouves:data.data[i].individuFoundCount,AncetreTheo:data.data[i].maxTotal,Generation:data.data[i].generation});if(dataWidgetG.push(arraysDataG),dataWidgetG.push(["#2671d5","#BB48C5"]),dataWidgetG.push(localisedString.HNLOC_DASH_TITLE_TAB_GENERATION),dataWidgetT.push(arraysDataT),dataWidgetT.push([{title:localisedString.HNLOC_DASH_TITLE_TAB_GENERATION,field:"Generation",width:"100px"},{title:localisedString.HNLOC_DASH_TITLE_TAB_ANCETRE_THEO,field:"AncetreTheo"},{title:localisedString.HNLOC_DASH_TITLE_TAB_TROUVES_MAJ_PLURIEL,field:"Trouves",footerTemplate:localisedString.HNLOC_DASH_TOTAL+localisedString.HNLOC_2_POINTS+data.data[data.data.length-1].cumulIndividuFoundCount},{title:localisedString.HNLOC_DASH_TITLE_TAB_DISTINCTS_MAJ_PLURIEL,field:"Distincts",footerTemplate:localisedString.HNLOC_DASH_TOTAL+localisedString.HNLOC_2_POINTS+data.data[data.data.length-1].cumulUniqueGenerationCount},{title:localisedString.HNLOC_DASH_TITLE_TAB_CUMUL,columns:[{title:localisedString.HNLOC_DASH_TITLE_TAB_ANCETRE_THEO,field:"cumulAncetreTheo"},{title:localisedString.HNLOC_DASH_TITLE_TAB_TROUVES_MAJ_PLURIEL,field:"cumulTrouves"},{title:localisedString.HNLOC_DASH_TITLE_TAB_DISTINCTS_MAJ_PLURIEL,field:"cumulDistincts"}]},{title:localisedString.HNLOC_DASH_TITLE_TAB_PERCENT_IMPLEXE,field:"tauxImplexe",template:'#= kendo.toString(tauxImplexe, "n1")#'}]),dataWidgetT.push(data.centralInfo.usualNames),void 0===cache.denombrementAsc){var cachedData={};cachedData.dataWidgetG=dataWidgetG,cachedData.dataWidgetT=dataWidgetT,cache.denombrementAsc=cachedData}0===arraysDataG.length?(graphContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>"),tabContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>")):(callback("bar2",dataWidgetG,graphContainer,titre),callback("grid",dataWidgetT,tabContainer,titre))}}))}function getDenombrementDesc(cache,context,titre,uuid,port,callback,currentLi){var graphContainer=context[0],tabContainer=context[1];void 0!==cache.denombrementDesc?0===cache.denombrementDesc.dataWidgetG[0].length?(graphContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>"),tabContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>")):(callback("bar2",cache.denombrementDesc.dataWidgetG,graphContainer,titre),callback("grid",cache.denombrementDesc.dataWidgetT,tabContainer,titre)):(kendo.ui.progress($(graphContainer),!0),kendo.ui.progress($(tabContainer),!0),$.ajax({indexWidget:"denombrementDesc",url:"http://127.0.0.1:"+port+"/libheredis/stat/descendancyEnumeration",type:"POST",dataType:"json",data:{uuid:uuid},success:function(data){for(var dataWidgetG=[],arraysDataG=[],dataWidgetT=[],arraysDataT=[],i=0;i<data.data.length;i++)data.data[i].uniqueCount>=0&&(1===data.data[i].uniqueCount||0===data.data[i].uniqueCount?arraysDataG.push({value:data.data[i].uniqueCount,index:data.data[i].index,type:localisedString.HNLOC_DASH_TITLE_TAB_DISTINCTS_MAJ_PLURIEL,date:data.data[i].generation,tooltip:localisedString.HNLOC_DASH_TITLE_TAB_DISTINCTS_MIN_SINGULIER}):arraysDataG.push({value:data.data[i].uniqueCount,index:data.data[i].index,type:localisedString.HNLOC_DASH_TITLE_TAB_DISTINCTS_MAJ_PLURIEL,date:data.data[i].generation,tooltip:localisedString.HNLOC_DASH_TITLE_TAB_DISTINCTS_MIN_PLURIEL})),data.data[i].individuFoundCount>=0&&(1===data.data[i].individuFoundCount||0===data.data[i].individuFoundCount?arraysDataG.push({value:data.data[i].individuFoundCount,index:data.data[i].index,type:localisedString.HNLOC_DASH_TITLE_TAB_TROUVES_MAJ_PLURIEL,date:data.data[i].generation,tooltip:localisedString.HNLOC_DASH_TITLE_TAB_TROUVES_MIN_SINGULIER}):arraysDataG.push({value:data.data[i].individuFoundCount,index:data.data[i].index,type:localisedString.HNLOC_DASH_TITLE_TAB_TROUVES_MAJ_PLURIEL,date:data.data[i].generation,tooltip:localisedString.HNLOC_DASH_TITLE_TAB_TROUVES_MIN_PLURIEL}));for(i=0;i<data.data.length;i++)arraysDataT.push({tauxImplexe:data.data[i].implexeRatio,cumulDistincts:data.data[i].cumulUniqueGenerationCount,cumulTrouves:data.data[i].cumulIndividuFoundCount,Distincts:data.data[i].uniqueCount,Trouves:data.data[i].individuFoundCount,Generation:data.data[i].generation});if(dataWidgetG.push(arraysDataG),dataWidgetG.push(["#2671d5","#BB48C5"]),dataWidgetG.push(localisedString.HNLOC_DASH_TITLE_TAB_GENERATION),dataWidgetT.push(arraysDataT),dataWidgetT.push([{title:localisedString.HNLOC_DASH_TITLE_TAB_GENERATION,field:"Generation",width:"100px"},{title:localisedString.HNLOC_DASH_TITLE_TAB_TROUVES_MAJ_PLURIEL,field:"Trouves",footerTemplate:localisedString.HNLOC_DASH_TOTAL+localisedString.HNLOC_2_POINTS+data.data[data.data.length-1].cumulIndividuFoundCount},{title:localisedString.HNLOC_DASH_TITLE_TAB_DISTINCTS_MAJ_PLURIEL,field:"Distincts",footerTemplate:localisedString.HNLOC_DASH_TOTAL+localisedString.HNLOC_2_POINTS+data.data[data.data.length-1].cumulUniqueGenerationCount},{title:localisedString.HNLOC_DASH_TITLE_TAB_CUMUL,columns:[{title:localisedString.HNLOC_DASH_TITLE_TAB_TROUVES_MAJ_PLURIEL,field:"cumulTrouves"},{title:localisedString.HNLOC_DASH_TITLE_TAB_DISTINCTS_MAJ_PLURIEL,field:"cumulDistincts"}]},{title:localisedString.HNLOC_DASH_TITLE_TAB_PERCENT_IMPLEXE,field:"tauxImplexe",template:'#= kendo.toString(tauxImplexe, "n1")#'}]),dataWidgetT.push(data.centralInfo.usualNames),void 0===cache.denombrementDesc){var cachedData={};cachedData.dataWidgetG=dataWidgetG,cachedData.dataWidgetT=dataWidgetT,cache.denombrementDesc=cachedData}0===arraysDataG.length?(graphContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>"),tabContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>")):(callback("bar2",dataWidgetG,graphContainer,titre),callback("grid",dataWidgetT,tabContainer,titre))}}))}function getDifferenceAge(cache,type,page,currentPeriode,titre,uuid,port,callback,currentLi){$(currentLi).find(".contenu > div").html(vueSimpleEtApercu),kendo.ui.progress($(currentLi).find(".contenu"),!0),$(currentLi).find(".ouvrirDico").remove(),$(currentLi).find(".stats").remove(),void 0!==cache[type]?callback(type,cache[type].dataWidget,page,titre,currentLi,getDifferenceAge,"difference"):$.ajax({indexWidget:type,url:"http://127.0.0.1:"+port+"/libheredis/stat/unionSpouseAgeDifference",type:"POST",dataType:"json",data:{uuid:uuid,pad:0},success:function(data){var dataWidget=[],arraysData=[];if(void 0!==data&&0!==data.length)for(var i=0;i<data.length;i++)0!==data[i].avgAgeDifference&&data[i].avgAgeDifference>.06&&arraysData.push({value:data[i].avgAgeDifference,type:"",index:data[i].index,date:data[i].fromDate});dataWidget.push(localisedString.HNLOC_DASH_DIFFAGE_differenceage_TITLE);var pdata=[];if(pdata.push(arraysData),pdata.push(["#ff5722"]),pdata.push(localisedString.HNLOC_DASH_ANNEE_SINGULIER),dataWidget.push(pdata),void 0===cache[type]){var cachedData={};cachedData.dataWidget=dataWidget,cache[type]=cachedData}callback(type,dataWidget,page,titre,currentLi,getDifferenceAge,"difference")}})}function getDifferenceAgeConjoints(cache,context,titre,uuid,port,callback,intervalAnnee){var graphContainer=context[0],tabContainer=context[1];void 0!==cache.differenceConjoint&&void 0!==cache.differenceConjoint.year[intervalAnnee]?0===cache.differenceConjoint.year[intervalAnnee].dataWidgetG[0].length?(graphContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>"),tabContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>")):(callback("point",cache.differenceConjoint.year[intervalAnnee].dataWidgetG,graphContainer,titre,""),callback("grid",cache.differenceConjoint.year[intervalAnnee].dataWidgetT,tabContainer,titre)):(void 0===intervalAnnee&&(intervalAnnee=0),kendo.ui.progress($(graphContainer),!0),kendo.ui.progress($(tabContainer),!0),$.ajax({indexWidget:"differenceConjoint",url:"http://127.0.0.1:"+port+"/libheredis/stat/unionSpouseAgeDifference",type:"POST",dataType:"json",data:{uuid:uuid,pad:intervalAnnee},success:function(data){var dataWidgetG=[],arraysDataG=[],dataWidgetT=[],arraysDataT=[];if(void 0!==data&&0!==data.length){for(var i=0;i<data.length;i++)0!==data[i].avgAgeDifference&&data[i].avgAgeDifference>.06&&arraysDataG.push({value:data[i].avgAgeDifference,type:"",index:data[i].index,date:data[i].fromDate+localisedString.HNLOC_TRAIT_UNION+data[i].toDate});for(i=0;i<data.length;i++)arraysDataT.push({moyenne:data[i].avgAgeDifference,date:data[i].fromDate+localisedString.HNLOC_TRAIT_UNION+data[i].toDate})}dataWidgetG.push(arraysDataG),dataWidgetG.push(["#ff5722"]),dataWidgetG.push(localisedString.HNLOC_DASH_ANNEE_SINGULIER),dataWidgetT.push(arraysDataT),dataWidgetT.push([{title:localisedString.HNLOC_DASH_ANNEE_SINGULIER,field:"date"},{title:localisedString.HNLOC_DASH_DIFFAGE_tabdetail_COLUMN,field:"moyenne",template:'#= kendo.toString(moyenne, "n1")#',footerTemplate:""}]);var cachedData={};cachedData.dataWidgetG=dataWidgetG,cachedData.dataWidgetT=dataWidgetT,void 0===cache.differenceConjoint&&(cache.differenceConjoint={}),void 0===cache.differenceConjoint.year&&(cache.differenceConjoint.year={}),void 0===cache.differenceConjoint.year[intervalAnnee]&&(cache.differenceConjoint.year[intervalAnnee]=cachedData),0===arraysDataG.length?(graphContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>"),tabContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>")):(callback("point",dataWidgetG,graphContainer,titre,"",intervalAnnee),callback("grid",dataWidgetT,tabContainer,titre))}}))}function getDifferenceAgeAineBenjamin(cache,context,titre,uuid,port,callback,intervalAnnee,formatDate){var graphContainer=context[0],tabContainer=context[1];void 0!==cache.diffAineBenjamin&&void 0!==cache.diffAineBenjamin.year[intervalAnnee]?0===cache.diffAineBenjamin.year[intervalAnnee].dataWidgetG[0].length?(graphContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>"),tabContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>")):(callback("point",cache.diffAineBenjamin.year[intervalAnnee].dataWidgetG,graphContainer,titre,""),callback("grid",cache.diffAineBenjamin.year[intervalAnnee].dataWidgetT,tabContainer,titre)):(void 0===intervalAnnee&&(intervalAnnee=0),kendo.ui.progress($(graphContainer),!0),kendo.ui.progress($(tabContainer),!0),$.ajax({indexWidget:"diffAineBenjamin",url:"http://127.0.0.1:"+port+"/libheredis/stat/unionChildrenAgeDifference",type:"POST",dataType:"json",data:{uuid:uuid,pad:intervalAnnee},success:function(data){var dataWidgetG=[],arraysDataG=[],dataWidgetT=[],arraysDataT=[];if(void 0!==data&&0!==data.length){for(var i=0;i<data.length;i++)0!==data[i].avgAgeDifference&&data[i].avgAgeDifference>.06&&arraysDataG.push({value:data[i].avgAgeDifference,type:"",index:data[i].index,date:data[i].fromDate+localisedString.HNLOC_TRAIT_UNION+data[i].toDate});for(i=0;i<data.length;i++)arraysDataT.push({moyennechild:data[i].avgAgeDifference,date:data[i].fromDate+localisedString.HNLOC_TRAIT_UNION+data[i].toDate})}dataWidgetG.push(arraysDataG),dataWidgetG.push(["#ffc000"]),dataWidgetG.push(localisedString.HNLOC_DASH_ANNEE_SINGULIER),dataWidgetT.push(arraysDataT),dataWidgetT.push([{title:localisedString.HNLOC_DASH_ANNEE_SINGULIER,field:"date"},{title:localisedString.HNLOC_DASH_DIFFAGE_tabdetail_COLUMN,field:"moyennechild",template:'#= kendo.toString(moyennechild, "n1")#',footerTemplate:""}]);var cachedData={};cachedData.dataWidgetG=dataWidgetG,cachedData.dataWidgetT=dataWidgetT,void 0===cache.diffAineBenjamin&&(cache.diffAineBenjamin={}),void 0===cache.diffAineBenjamin.year&&(cache.diffAineBenjamin.year={}),void 0===cache.diffAineBenjamin.year[intervalAnnee]&&(cache.diffAineBenjamin.year[intervalAnnee]=cachedData),0===arraysDataG.length?(graphContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>"),tabContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>")):(callback("point",dataWidgetG,graphContainer,titre,"",intervalAnnee),callback("grid",dataWidgetT,tabContainer,titre))}}))}function getOriginesAncetre(cache,type,page,currentPeriode,titre,uuid,port,callback,currentLi){$(currentLi).find(".contenu > div").html(vueSimpleEtApercu),kendo.ui.progress($(currentLi).find(".contenu"),!0),$(currentLi).find(".ouvrirDico").remove(),$(currentLi).find(".stats").remove();var btn=$(currentLi).find(".fullScreen");btn.data("rep",""),void 0!==cache[type]?callback(type,cache[type].dataWidget,page,titre,currentLi,getOriginesAncetre,"origines"):$.ajax({indexWidget:type,url:"http://127.0.0.1:"+port+"/libheredis/stat/geographicalDistribution",type:"POST",dataType:"json",data:{uuid:uuid,zoneType:"country"},success:function(data){var pdata=[],pdatamax=[],limite=6,dataWidget=[];function dataPush(data){for(var i=0;i<data.length;i++)pdata.push({pourcentage:data[i].zoneCount,label:data[i].zone});if(pdata.sort(function(data1,data2){return data2.pourcentage-data1.pourcentage}),data.length>limite)for(i=0;i<limite;i++)pdatamax.push(pdata[i]);else pdatamax=pdata}function cache(){if(void 0===cache[type]){var cachedData={};cachedData.dataWidget=dataWidget,cache[type]=cachedData}callback(type,dataWidget,page,titre,currentLi,getOriginesAncetre,"origines")}void 0!==data&&0!==data.length&&data.length>=3?(dataPush(data),dataWidget.push(localisedString.HNLOC_DASH_ORIGINE_pays_TITLE),dataWidget.push(pdatamax),cache()):$.ajax({indexWidget:type,url:"http://127.0.0.1:"+port+"/libheredis/stat/geographicalDistribution",type:"POST",dataType:"json",data:{uuid:uuid,zoneType:"region"},success:function(data){if(void 0!==data&&0!==data.length&&data.length>=3)btn.data("rep","region"),dataPush(data),dataWidget.push(localisedString.HNLOC_DASH_ORIGINE_region_TITLE),dataWidget.push(pdatamax),cache();else{if(void 0!==data&&0!==data.length&&data.length>=1)var data_region=data;$.ajax({indexWidget:type,url:"http://127.0.0.1:"+port+"/libheredis/stat/geographicalDistribution",type:"POST",dataType:"json",data:{uuid:uuid,zoneType:"department"},success:function(data){void 0!==data&&0!==data.length&&data.length>=1?(btn.data("rep","departement"),dataPush(data),dataWidget.push(localisedString.HNLOC_DASH_ORIGINE_departement_TITLE),dataWidget.push(pdatamax),cache()):void 0!==data_region?(btn.data("rep","region"),dataPush(data_region),dataWidget.push(localisedString.HNLOC_DASH_ORIGINE_region_TITLE),dataWidget.push(pdatamax),cache()):(dataWidget.push(""),dataWidget.push(""),cache())}})}}})}})}function getRepartition(cache,context,titre,uuid,port,callback,zonetype){if("country"==zonetype)var type="repartitionPays";else if("region"==zonetype)type="repartitionRegion";else if("department"==zonetype)type="repartitionDepartement";var hnloc="HNLOC_DASH_TITLE_TAB_"+zonetype.toUpperCase(),titre_graph=localisedString[hnloc],graphContainer=context[0],tabContainer=context[1];void 0!==cache[type]?0===cache[type].dataWidgetG[0].length?(graphContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>"),tabContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>")):(callback("donut",cache[type].dataWidgetG,graphContainer,titre),callback("grid",cache[type].dataWidgetT,tabContainer,titre)):(kendo.ui.progress($(graphContainer),!0),kendo.ui.progress($(tabContainer),!0),$.ajax({indexWidget:type,url:"http://127.0.0.1:"+port+"/libheredis/stat/geographicalDistribution",type:"POST",dataType:"json",data:{uuid:uuid,zoneType:zonetype},success:function(data){var sumAutres=0,totalPercentage=0,dataWidgetG=[],pdata=[],dataWidgetT=[],arraysDataT=[];if(data.forEach(function(elt){totalPercentage+=elt.zoneCount}),void 0!==data&&0!==data.length){for(var i=0;i<data.length;i++)dataWidgetG.push({pourcentage:data[i].zoneCount,label:data[i].zone});if(dataWidgetG.sort(function(data1,data2){return data2.pourcentage-data1.pourcentage}),data.length>11){for(i=0;i<data.length;i++)pdata.length<11&&dataWidgetG[i].pourcentage*(100/totalPercentage)>.1?pdata.push(dataWidgetG[i]):sumAutres+=dataWidgetG[i].pourcentage;pdata.push({pourcentage:sumAutres,label:localisedString.HNLOC_DASH_AUTRES}),dataWidgetG=pdata}else 7===data.length&&(dataWidgetG[6].color="#ff0000");for(i=0;i<data.length;i++)arraysDataT.push({zone:data[i].zone,nbind:data[i].zoneCount,dateFirst:data[i].first,dateLast:data[i].last});arraysDataT.sort(function(data1,data2){return data2.nbind-data1.nbind}),dataWidgetT.push(arraysDataT),dataWidgetT.push([{field:"zone",title:titre_graph},{field:"nbind",title:localisedString.HNLOC_DASH_TITLE_TAB_INDIVIDU_PLURIEL},{title:localisedString.HNLOC_DASH_TITLE_TAB_APPARITION,columns:[{field:"dateFirst",title:localisedString.HNLOC_DASH_TITLE_TAB_DEBUT},{field:"dateLast",title:localisedString.HNLOC_DASH_TITLE_TAB_FIN}]}])}if(void 0===cache[type]){var cachedData={};cachedData.dataWidgetG=dataWidgetG,cachedData.dataWidgetT=dataWidgetT,cache[type]=cachedData}0===dataWidgetG.length?(graphContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>"),tabContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>")):(callback("donut",dataWidgetG,graphContainer,titre),callback("grid",dataWidgetT,tabContainer,titre))}}))}