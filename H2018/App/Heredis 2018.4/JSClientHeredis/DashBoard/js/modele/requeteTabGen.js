function getTabGen(cache,type,page,currentPeriode,titre,uuid,port,callback,currentLi){$(currentLi).find(".contenu > div").html(vueSimpleEtApercu),kendo.ui.progress($(currentLi).find(".contenu"),!0),$(currentLi).find(".stats").remove(),$(currentLi).find(".ouvrirDico").remove(),void 0!==cache.tabGenSimple?callback(type,cache.tabGenSimple,page,titre,currentLi,getTabGen,"tabGenSimple"):$.ajax({indexWidget:type,url:"http://127.0.0.1:"+port+"/libheredis/generationTable/generations",type:"POST",dataType:"json",data:{uuid:uuid,generationLimit:14},success:function(data){var dataWidget=[],pdata=[],arraysData=[],max=15;data.data.length<max&&(max=data.data.length);for(var i=1;i<max;i++)arraysData.push({date:data.data[i].generation,index:data.data[i].index,type:localisedString.HNLOC_DASH_TAB_GENERATION_REASEARCH_EVT,tooltipValue:localisedString.HNLOC_DASH_TAB_GENERATION_REASEARCH_EVT+localisedString.HNLOC_2_POINTS+Math.round(data.data[i].completionRatio)+"%",value:data.data[i].completionRatio}),arraysData.push({date:data.data[i].generation,index:data.data[i].index,type:localisedString.HNLOC_DASH_TAB_GENERATION_REASEARCH_ANCESTOR,tooltipValue:localisedString.HNLOC_DASH_TAB_GENERATION_REASEARCH_ANCESTOR+localisedString.HNLOC_2_POINTS+Math.round(data.data[i].uniqueFoundCount/data.data[i].uniqueExpectedCount*100)+"%",value:Math.round(data.data[i].uniqueFoundCount/data.data[i].uniqueExpectedCount*100)});dataWidget.push(""),pdata.push(arraysData),pdata.push(["#E8762E","#8581C9"]),pdata.push(localisedString.HNLOC_DASH_TAB_GENERATION_SECTION_GENERATION_PLURIEL_TITLE),dataWidget.push(pdata),cache.tabGenSimple=dataWidget,callback(type,dataWidget,page,titre,currentLi,getTabGen,"tabGenSimple")}})}function mainTabGen(cache,type,page,currentPeriode,titre,uuid,port,callback,currentLi){if(void 0!==cache.tabGenDetail&&void 0!==cache.tabGenDetail.dataWidget&&void 0!==cache.tabGenDetail.MainPerson){var data=cache.tabGenDetail.dataWidget;callback(currentLi,data)}else{var window=$("#loading-info");void 0!==window.data("kendoWindow")?window.data("kendoWindow").open():window.kendoWindow({width:"300px",minWidth:"300px",maxWidth:"300px",height:"100px",maxHeight:"100px",minHeight:"100px",actions:[],modal:!0}).data("kendoWindow").center().open(),$.ajax({url:"http://127.0.0.1:"+port+"/libheredis/generationTable/generations",type:"POST",dataType:"json",data:{uuid:uuid,generationLimit:-1},success:function(data){var dataWidget=[],datas=[];getDetailIndividu(port,uuid,data.data[0].individus[0].links,data.data[0].individus[0].implexeFoundCount,data.data[0].individus[0].mainIndividu,0,function(indiInfo){var dateD="",dateN="";void 0!==indiInfo.dateD&&(dateD=indiInfo.dateD),void 0!==indiInfo.dateN&&(dateN=indiInfo.dateN);for(var i=1;i<data.data.length;i++){var trouvable="";void 0!==data.data[i].uniqueExpectedCount&&(trouvable=data.data[i].uniqueExpectedCount);var noImplexe="visible";0===data.data[i].implexeFoundCount&&(noImplexe="hidden"),datas.push({generation:"G"+data.data[i].generation,cle:data.data[i].index,theoriques:data.data[i].maxTotal,trouves:data.data[i].uniqueFoundCount,avancementActes:data.data[i].completionRatio,avancementAncetre:Math.round(data.data[i].uniqueFoundCount/data.data[i].uniqueExpectedCount*100),trouvable:trouvable,individus:data.data[i].individus,implexe:data.data[i].implexeFoundCount,noImplexe:noImplexe,uuid:uuid})}var tmp=[];tmp.push('<span class="persoInfos" style="margin-top:50px"  data-infoId="'+indiInfo.codeId+'">'+indiInfo.nom+" ("+dateN+" - "+dateD+")</span>"),tmp.push(indiInfo.nom+" ("+dateN+" - "+dateD+")"),dataWidget.push(tmp),dataWidget.push(datas);var cachedData={};cachedData.dataWidget=dataWidget,cachedData.MainPerson=indiInfo,cache.tabGenDetail=cachedData,callback(currentLi,dataWidget,!0)},type)}})}}function getDetailGeneration(port,uuid,individus,portee,callback,callback3){var dataWidget=[],traiteRpd=function(indiInfo){var itemUnion={timestamp:"-",implexe:"-",implexeIndicator:"-",codeId:"",index:indiInfo.index,sosa:"-",codeIdN:0,codeIdD:0,codeIdU:0,urlSexe:"",nom:"-",dateN:"-",lieuN:"-",dateU:"-",lieuU:"-",dateD:"-",lieuD:"-",filiation:"",hasBirthSource:"hidden",hasDeathSource:"hidden",hasUnionSource:"hidden",hasNote:"-",birthIsCompleted:"-",deathIsCompleted:"-",unionIsCompleted:"-",birthSrcs:"",deathSrcs:"",unionSrcs:"",noteId:"-",noteContent:"-",birthTooltip:"",deathTooltip:"",displayLinksAndImg:"hidden",urlIconNote:"",DisplayIsCompleteIcon:"-"},unions=indiInfo.unions;if(unions.length>0){var hasUnionSource="hidden",dateU="",lieuU="";if(void 0!==unions[0].sources&&unions[0].sources.length>0&&(hasUnionSource="visible"),void 0!==unions[0].date&&(dateU=unions[0].date),void 0!==unions[0].place&&(lieuU=unions[0].place),indiInfo.unionIsCompleted=unions[0].isCompleted,indiInfo.dateU=dateU,indiInfo.lieuU=lieuU,indiInfo.codeIdU=unions[0].codeId,indiInfo.unionSrcs=unions[0].sources,indiInfo.unionTooltip=unions[0].tooltip,void 0!==unions[0].conjoint?indiInfo.conjoint=unions[0].conjoint:(unions.length>1&&localisedString.HNLOC_DASH_FILTRE_DESCENDANCE,indiInfo.conjoint={usualNames:""}),indiInfo.hasUnionSource=hasUnionSource,indiInfo.childrenCount=unions[0].childrenCount,unions[0].isUnionComplete&&(indiInfo.unionIsCompleted=unions[0].isUnionComplete),dataWidget.push(indiInfo),unions.length>1)for(var i=1;i<unions.length;i++)hasUnionSource="hidden",void 0!==unions[i].sources&&unions[i].sources.length>0&&(hasUnionSource="visible"),itemUnion.unionIsCompleted=unions[i].isCompleted,dateU="",lieuU="",void 0!==unions[i].date&&(dateU=unions[i].date),void 0!==unions[i].place&&(lieuU=unions[i].place),itemUnion.dateU=dateU,itemUnion.lieuU=lieuU,itemUnion.codeIdU=unions[i].codeId,itemUnion.unionSrcs=unions[i].sources,itemUnion.unionTooltip=unions[i].tooltip,itemUnion.indexUnion=i,void 0!==unions[i].conjoint?itemUnion.conjoint=unions[i].conjoint:(localisedString.HNLOC_DASH_FILTRE_DESCENDANCE,itemUnion.conjoint={usualNames:""}),itemUnion.hasUnionSource=hasUnionSource,itemUnion.childrenCount=unions[i].childrenCount,unions[i].isUnionCompleted&&(itemUnion.unionIsCompleted=unions[i].isUnionCompleted),itemUnion.urlIconNote=indiInfo.urlIconNote,itemUnion.noteId=indiInfo.noteId,itemUnion.codeId=indiInfo.codeId,itemUnion.noteContent=indiInfo.noteContent,itemUnion.implexe=indiInfo.implexe,itemUnion.DisplayIsCompleteIcon=indiInfo.DisplayIsCompleteIcon,itemUnion.timestamp=indiInfo.timestamp,dataWidget.push(itemUnion)}else dataWidget.push(indiInfo)},recursiveGetIndi=function(index,individus){index<individus.length-1?getDetailIndividu(port,uuid,individus[index].links,individus[index].implexeFoundCount,individus[index].mainIndividu,individus[index].index,traiteRpd,"none",function(){recursiveGetIndi(index+=1,individus)}):index===individus.length-1&&getDetailIndividu(port,uuid,individus[index].links,individus[index].implexeFoundCount,individus[index].mainIndividu,individus[index].index,traiteRpd,"none",function(){index+=1,void 0!==callback&&callback(dataWidget,callback3)})};recursiveGetIndi(0,individus)}