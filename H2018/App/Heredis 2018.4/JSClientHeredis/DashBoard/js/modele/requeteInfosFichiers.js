function getNbIndivSosas(cache,type,page,currentPeriode,titre,uuid,port,callback,currentLi){$(currentLi).find(".contenu > div").html(vueSimpleEtApercu),$(currentLi).find(".total .label").html(localisedString.HNLOC_DASH_NB_TOTAL_LABEL+localisedString.HNLOC_2_POINTS),$(currentLi).find(".ajoutRecent .label").html(localisedString.HNLOC_DASH_NB_INDIVIDUS_AJOUTE_LABEL+localisedString.HNLOC_2_POINTS),$(currentLi).find(".ouvrirDico").hide(),void 0!==cache[type]&&void 0!==cache[type].ajoutRecent&&void 0!==cache[type].ajoutRecent[currentPeriode]?($(currentLi).find(".total .statsValue").html(cache[type].compteurs),$(currentLi).find(".ajoutRecent .statsValue").html(cache[type].ajoutRecent[currentPeriode]),callback(type,cache[type].dataWidget,page,titre,currentLi,getNbIndivSosas,"individus")):(kendo.ui.progress($(currentLi).find(".contenu"),!0),$.ajax({indexWidget:type,url:"http://127.0.0.1:"+port+"/libheredis/request/generalMeters",type:"POST",dataType:"json",data:{uuid:uuid,periode:currentPeriode},success:function(data){$(currentLi).find(".total .statsValue").html(data.compteurs.totalIndis),$(currentLi).find(".ajoutRecent .statsValue").html(data.compteurs.IndiAjoutRecent);var hmData=[];data.repartitionHFI.m>1?hmData.push({pourcentage:data.repartitionHFI.m,label:localisedString.HNLOC_DASH_PERCENT_MAMWOMAN_LEGEND_H_PLURIEL,color:"#2671d5"}):1===data.repartitionHFI.m&&hmData.push({pourcentage:data.repartitionHFI.m,label:localisedString.HNLOC_DASH_PERCENT_MAMWOMAN_LEGEND_H_SINGULIER,color:"#2671d5"}),data.repartitionHFI.f>1?hmData.push({pourcentage:data.repartitionHFI.f,label:localisedString.HNLOC_DASH_PERCENT_MAMWOMAN_LEGEND_F_PLURIEL,color:"#BB48C5"}):1===data.repartitionHFI.f&&hmData.push({pourcentage:data.repartitionHFI.f,label:localisedString.HNLOC_DASH_PERCENT_MAMWOMAN_LEGEND_F_SINGULIER,color:"#BB48C5"}),data.repartitionHFI["?"]>1?hmData.push({pourcentage:data.repartitionHFI["?"],label:localisedString.HNLOC_DASH_PERCENT_MAMWOMAN_LEGEND_I_PLURIEL,color:"#93dd57"}):1===data.repartitionHFI["?"]&&hmData.push({pourcentage:data.repartitionHFI["?"],label:localisedString.HNLOC_DASH_PERCENT_MAMWOMAN_LEGEND_I_SINGULIER,color:"#93dd57"});var dataWidget=new Array;if(dataWidget.push(localisedString.HNLOC_DASH_PERCENT_MAMWOMAN_TITLE),dataWidget.push(hmData),void 0===cache[type]){var cachedData={};cachedData.compteurs=data.compteurs.totalIndis,cachedData.dataWidget=dataWidget,cachedData.ajoutRecent={},cache[type]=cachedData}void 0===cache[type].ajoutRecent[currentPeriode]&&(cache[type].ajoutRecent[currentPeriode]=data.compteurs.IndiAjoutRecent),callback(type,dataWidget,page,titre,currentLi,getNbIndivSosas,type,!0)}}))}function getDetailIndiTab(cache,type,a,titre,uuid,port,callback){void 0!==cache.detailIndiTab?callback(type,cache.detailIndiTab.dataWidget,a,titre,"detailIndi"):(kendo.ui.progress($(a),!0),$.ajax({indexWidget:"detailIndiTab",url:"http://127.0.0.1:"+port+"/libheredis/request/demography",type:"POST",dataType:"json",data:{uuid:uuid},success:function(data){var dataWidget,cdata='<ul class="tableauDetail"><li>  '+localisedString.HNLOC_DASH_INDIVIDUS_C_LABEL+"<ul> ";if(""!==data.personneVivantePlusJeune&&""!==data.personneVivantePlusAge&&data.personneVivantePlusJeune!==data.personneVivantePlusAge?cdata+='<li data-InfoID="'+data.personneVivantePlusJeuneID+'">'+localisedString.HNLOC_DASH_INDIVIDUS_C_LABEL_J+localisedString.HNLOC_2_POINTS+'<span id="infoCJ">'+data.personneVivantePlusJeune+'</span></li><li data-InfoID="'+data.personneVivantePlusAgeID+'">'+localisedString.HNLOC_DASH_INDIVIDUS_C_LABEL_A+localisedString.HNLOC_2_POINTS+'<span id="infoCA">'+data.personneVivantePlusAge+"</span></li>":data.personneVivantePlusJeune===data.personneVivantePlusAge&&(cdata+='<li><span id="infoCJ">'+data.personneVivantePlusJeune+"</span></li>"),cdata+="</ul></li><li> "+localisedString.HNLOC_DASH_INDIVIDUS_L_LABEL+"<ul>",""!==data.personnePlusCourtDureeVie&&""!==data.personnePlusLongDureeVie&&data.personnePlusCourtDureeVie!==data.personnePlusLongDureeVie?cdata+='<li data-InfoID="'+data.personnePlusCourtDureeVieID+'">'+localisedString.HNLOC_DASH_INDIVIDUS_L_LABEL_C+localisedString.HNLOC_2_POINTS+'<span id="infoLC">'+data.personnePlusCourtDureeVie+'</span></li><li data-InfoID="'+data.personnePlusLongDureeVieID+'">'+localisedString.HNLOC_DASH_INDIVIDUS_L_LABEL_L+localisedString.HNLOC_2_POINTS+'<span id="infoLL">'+data.personnePlusLongDureeVie+"</span></li>":data.personnePlusCourtDureeVie===data.personnePlusLongDureeVie&&(cdata+='<li><span id="infoLC">'+data.personnePlusCourtDureeVie+"</span></li>"),cdata+="</ul></li><li> "+localisedString.HNLOC_DASH_INDIVIDUS_M_LABEL+"<ul>",""!==data.personnePlusJeuneDansMariage&&""!==data.personnePlusAgeDansMariage&&data.personnePlusJeuneDansMariage!==data.personnePlusAgeDansMariage?cdata+='<li data-InfoID="'+data.personnePlusJeuneDansMariageID+'">'+localisedString.HNLOC_DASH_INDIVIDUS_M_LABEL_J+localisedString.HNLOC_2_POINTS+'<span id="infoMJ">'+data.personnePlusJeuneDansMariage+'</span></li><li data-InfoID="'+data.personnePlusAgeDansMariageID+'">'+localisedString.HNLOC_DASH_INDIVIDUS_M_LABEL_A+localisedString.HNLOC_2_POINTS+'<span id="infoMA">'+data.personnePlusAgeDansMariage+"</span></li>":data.personnePlusJeuneDansMariage===data.personnePlusAgeDansMariage&&(cdata+='<li><span id="infoMJ">'+data.personnePlusJeuneDansMariage+"</span></li>"),cdata+="</ul></li><li> "+localisedString.HNLOC_DASH_INDIVIDUS_N_E_LABEL+"<ul>",""!==data.personnePLusJeuneNE&&""!==data.personnePLusAgeNE&&data.personnePLusJeuneNE!==data.personnePLusAgeNE?cdata+='<li data-InfoID="'+data.personnePLusJeuneNEID+'">'+localisedString.HNLOC_DASH_INDIVIDUS_N_E_J+localisedString.HNLOC_2_POINTS+'<span id="infoNEJ">'+data.personnePLusJeuneNE+'</span></li><li data-InfoID="'+data.personnePLusAgeNEID+'">'+localisedString.HNLOC_DASH_INDIVIDUS_N_E_A+localisedString.HNLOC_2_POINTS+'<span id="infoNEA">'+data.personnePLusAgeNE+"</span></li>":data.personnePLusJeuneNE===data.personnePLusAgeNE&&(cdata+='<li><span id="infoNEJ">'+data.personnePLusJeuneNE+"</span></li>"),cdata+="</ul></li><li> "+localisedString.HNLOC_DASH_INDIVIDUS_N_F_LABEL+"<ul>",""!==data.pere&&""!==data.mere||""!==data.individu){var chaineFormateCouple=localisedString.HNLOC_DASH_INDIVIDUS_N_F_LABEL_CPL.replace("%p",data.pere).replace("%m",data.mere),chaineFormateIndi=localisedString.HNLOC_DASH_INDIVIDUS_N_F_LABEL_INDI.replace("%p",data.individu);cdata+='<li data-InfoID="'+data.coupleID+'" data-type="union">'+chaineFormateCouple+"</li><li>"+localisedString.HNLOC_DASH_INDIVIDUS_NBENFANT_COUPLE_LABEL_PLURIEL.replace("%nbE",data.nbEnfantsCouple)+'</li><li data-InfoID="'+data.indiID+'">'+chaineFormateIndi+"</li><li>"+localisedString.HNLOC_DASH_INDIVIDUS_NBENFANT_LABEL_INDIVIDU_PLURIEL.replace("%nbE",data.nbEnfantsIndi)+"</li>"}if(dataWidget=cdata+="</ul></li></ul>",0===data.personneVivantePlusJeuneID&&0===data.personneVivantePlusAgeID&&0===data.personnePlusCourtDureeVieID&&0===data.personnePlusLongDureeVieID&&0===data.personnePlusJeuneDansMariageID&&0===data.personnePlusAgeDansMariageID&&0===data.personnePLusJeuneNEID&&0===data.personnePLusAgeNEID&&0===data.coupleID&&0===data.indiID)$(a).html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>");else{if(void 0===cache.detailIndiTab){var cachedData={};cachedData.dataWidget=dataWidget,cache.detailIndiTab=cachedData}callback(type,dataWidget,a,titre,"detailIndi")}}}))}function getPercentManWoman(cache,type,a,titre,uuid,port,callback,currentLi){void 0!==cache.percentManWoman?callback(type,cache.percentManWoman.dataWidget,a,titre,currentLi):(kendo.ui.progress($(a),!0),$.ajax({indexWidget:"percentManWoman",url:"http://127.0.0.1:"+port+"/libheredis/request/percentManWoman",type:"POST",dataType:"json",data:{uuid:uuid},success:function(data){var dataWidget,hmData=[];if(data.m>1?hmData.push({pourcentage:data.m,label:localisedString.HNLOC_DASH_PERCENT_MAMWOMAN_LEGEND_H_PLURIEL,legend:localisedString.HNLOC_DASH_PERCENT_MAMWOMAN_LEGEND_H_PLURIEL.charAt(0).toUpperCase()+localisedString.HNLOC_DASH_PERCENT_MAMWOMAN_LEGEND_H_PLURIEL.slice(1),color:"#2671d5"}):1===data.m&&hmData.push({pourcentage:data.m,label:localisedString.HNLOC_DASH_PERCENT_MAMWOMAN_LEGEND_H_SINGULIER,legend:localisedString.HNLOC_DASH_PERCENT_MAMWOMAN_LEGEND_H_SINGULIER.charAt(0).toUpperCase()+localisedString.HNLOC_DASH_PERCENT_MAMWOMAN_LEGEND_H_SINGULIER.slice(1),color:"#2671d5"}),data.f>1?hmData.push({pourcentage:data.f,label:localisedString.HNLOC_DASH_PERCENT_MAMWOMAN_LEGEND_F_PLURIEL,legend:localisedString.HNLOC_DASH_PERCENT_MAMWOMAN_LEGEND_F_PLURIEL.charAt(0).toUpperCase()+localisedString.HNLOC_DASH_PERCENT_MAMWOMAN_LEGEND_F_PLURIEL.slice(1),color:"#BB48C5"}):1===data.f&&hmData.push({pourcentage:data.f,label:localisedString.HNLOC_DASH_PERCENT_MAMWOMAN_LEGEND_F_SINGULIER,legend:localisedString.HNLOC_DASH_PERCENT_MAMWOMAN_LEGEND_F_SINGULIER.charAt(0).toUpperCase()+localisedString.HNLOC_DASH_PERCENT_MAMWOMAN_LEGEND_F_SINGULIER.slice(1),color:"#BB48C5"}),data["?"]>1?hmData.push({pourcentage:data["?"],label:localisedString.HNLOC_DASH_PERCENT_MAMWOMAN_LEGEND_I_PLURIEL,legend:localisedString.HNLOC_DASH_PERCENT_MAMWOMAN_LEGEND_I_PLURIEL.charAt(0).toUpperCase()+localisedString.HNLOC_DASH_PERCENT_MAMWOMAN_LEGEND_I_PLURIEL.slice(1),color:"#93dd57"}):1===data["?"]&&hmData.push({pourcentage:data["?"],label:localisedString.HNLOC_DASH_PERCENT_MAMWOMAN_LEGEND_I_SINGULIER,legend:localisedString.HNLOC_DASH_PERCENT_MAMWOMAN_LEGEND_I_SINGULIER.charAt(0).toUpperCase()+localisedString.HNLOC_DASH_PERCENT_MAMWOMAN_LEGEND_I_SINGULIER.slice(1),color:"#93dd57"}),dataWidget=hmData,0===Object.keys(data).length)$(a).html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>");else{if(void 0===cache.percentManWoman){var cachedData={};cachedData.dataWidget=dataWidget,cache.percentManWoman=cachedData}callback(type,dataWidget,a,titre,currentLi)}}}))}function getCompletionFile(cache,type,a,titre,uuid,port,callback,currentLi){void 0!==cache.avancement?callback(type,cache.avancement.dataWidget,a,titre,"completion"):(kendo.ui.progress($(a),!0),$.ajax({indexWidget:"avancement",url:"http://127.0.0.1:"+port+"/libheredis/request/completionFile",type:"POST",dataType:"json",data:{uuid:uuid},success:function(data){data[0],data[1],data[2],data[3];var dataWidget,hmData=[];if(1===data[0]||0===data[0]?hmData.push({pourcentage:data[0],label:localisedString.HNLOC_DASH_BAR_COMPLETION_0_LABEL,niveauCompletionEvt:0,color:"#48C7F3",tooltip:{indi:localisedString.HNLOC_DASH_BAR_COMPLETION_TOOLTIP_INDIVIDU_SINGULIER,evt:localisedString.HNLOC_DASH_BAR_COMPLETION_TOOLTIP_EVT_COMPLET_SINGULIER}}):hmData.push({pourcentage:data[0],label:localisedString.HNLOC_DASH_BAR_COMPLETION_0_LABEL,niveauCompletionEvt:0,color:"#48C7F3",tooltip:{indi:localisedString.HNLOC_DASH_BAR_COMPLETION_TOOLTIP_INDIVIDU_PLURIEL,evt:localisedString.HNLOC_DASH_BAR_COMPLETION_TOOLTIP_EVT_COMPLET_SINGULIER}}),1===data[1]||0===data[1]?hmData.push({pourcentage:data[1],label:localisedString.HNLOC_DASH_BAR_COMPLETION_1_LABEL,niveauCompletionEvt:1,color:"#2484BE",tooltip:{indi:localisedString.HNLOC_DASH_BAR_COMPLETION_TOOLTIP_INDIVIDU_SINGULIER,evt:localisedString.HNLOC_DASH_BAR_COMPLETION_TOOLTIP_EVT_COMPLET_SINGULIER}}):hmData.push({pourcentage:data[1],label:localisedString.HNLOC_DASH_BAR_COMPLETION_1_LABEL,niveauCompletionEvt:1,color:"#2484BE",tooltip:{indi:localisedString.HNLOC_DASH_BAR_COMPLETION_TOOLTIP_INDIVIDU_PLURIEL,evt:localisedString.HNLOC_DASH_BAR_COMPLETION_TOOLTIP_EVT_COMPLET_SINGULIER}}),1===data[2]||0===data[2]?hmData.push({pourcentage:data[2],label:localisedString.HNLOC_DASH_BAR_COMPLETION_2_LABEL,niveauCompletionEvt:2,color:"#063A51",tooltip:{indi:localisedString.HNLOC_DASH_BAR_COMPLETION_TOOLTIP_INDIVIDU_SINGULIER,evt:localisedString.HNLOC_DASH_BAR_COMPLETION_TOOLTIP_EVT_COMPLET_PLURIEL}}):hmData.push({pourcentage:data[2],label:localisedString.HNLOC_DASH_BAR_COMPLETION_2_LABEL,niveauCompletionEvt:2,color:"#063A51",tooltip:{indi:localisedString.HNLOC_DASH_BAR_COMPLETION_TOOLTIP_INDIVIDU_PLURIEL,evt:localisedString.HNLOC_DASH_BAR_COMPLETION_TOOLTIP_EVT_COMPLET_PLURIEL}}),1===data[3]||0===data[3]?hmData.push({pourcentage:data[3],label:localisedString.HNLOC_DASH_BAR_COMPLETION_3_LABEL,niveauCompletionEvt:3,color:"#051F29",tooltip:{indi:localisedString.HNLOC_DASH_BAR_COMPLETION_TOOLTIP_INDIVIDU_SINGULIER,evt:localisedString.HNLOC_DASH_BAR_COMPLETION_TOOLTIP_EVT_COMPLET_PLURIEL}}):hmData.push({pourcentage:data[3],label:localisedString.HNLOC_DASH_BAR_COMPLETION_3_LABEL,niveauCompletionEvt:3,color:"#051F29",tooltip:{indi:localisedString.HNLOC_DASH_BAR_COMPLETION_TOOLTIP_INDIVIDU_PLURIEL,evt:localisedString.HNLOC_DASH_BAR_COMPLETION_TOOLTIP_EVT_COMPLET_PLURIEL}}),dataWidget=hmData,0===Object.keys(data).length||0===data[0]&&0===data[1]&&0===data[2]&&0===data[3])$(a).html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>");else{if(void 0===cache.avancement){var cachedData={};cachedData.dataWidget=dataWidget,cache.avancement=cachedData}callback(type,dataWidget,a,titre,"completion")}},error:function(){console.log("session expiré")}}))}function getSources(cache,type,page,currentPeriode,titre,uuid,port,callback,currentLi){$(currentLi).find(".contenu > div").html(vueSimpleEtApercu),$(currentLi).find(".total .label").html(localisedString.HNLOC_DASH_NB_TOTAL_LABEL+localisedString.HNLOC_2_POINTS),$(currentLi).find(".ajoutRecent .label").html(localisedString.HNLOC_DASH_NB_SOURCE_AJOUTE_LABEL+localisedString.HNLOC_2_POINTS),$(currentLi).find(".ouvrirDico").html(localisedString.HNLOC_DASH_BUTTON_OUVRIR_DICO_LABEL),void 0!==cache[type]&&void 0!==cache[type].SourcesAjoutRecent&&void 0!==cache[type].SourcesAjoutRecent[currentPeriode]?($(currentLi).find(".total .statsValue").html(cache.sources.compteurs),$(currentLi).find(".ajoutRecent .statsValue").html(cache.sources.SourcesAjoutRecent[currentPeriode]),callback(type,cache[type].dataWidget,page,titre,currentLi,getNbIndivSosas,"sources")):(kendo.ui.progress($(currentLi).find(".contenu"),!0),$.ajax({indexWidget:type,url:"http://127.0.0.1:"+port+"/libheredis/request/sources",type:"POST",dataType:"json",data:{uuid:uuid,periode:currentPeriode},success:function(data){$(currentLi).find(".total .statsValue").html(data.compteurs.nbSources),$(currentLi).find(".ajoutRecent .statsValue").html(data.compteurs.SourcesAjoutRecent);var sData=[];if(0===data.sourceMediaNote.length)$(currentLi).find(".miniature").html('<div id="defautViewKendo">pas de sources disponibles</div>');else for(var i=0;i<data.sourceMediaNote.length;i++)data.sourceMediaNote[i].hasMedia&&data.sourceMediaNote[i].hasNote?1===data.sourceMediaNote[i].nb?sData.push({pourcentage:data.sourceMediaNote[i].nb,label:localisedString.HNLOC_DASH_PERCENT_SOURCE_MEDIA_NOTE_LEGEND_MEDIA_NOTE_SINGULIER}):sData.push({pourcentage:data.sourceMediaNote[i].nb,label:localisedString.HNLOC_DASH_PERCENT_SOURCE_MEDIA_NOTE_LEGEND_MEDIA_NOTE_PLURIEL}):!data.sourceMediaNote[i].hasMedia&&data.sourceMediaNote[i].hasNote?1===data.sourceMediaNote[i].nb?sData.push({pourcentage:data.sourceMediaNote[i].nb,label:localisedString.HNLOC_DASH_PERCENT_SOURCE_MEDIA_NOTE_LEGEND_NOTE_SINGULIER}):sData.push({pourcentage:data.sourceMediaNote[i].nb,label:localisedString.HNLOC_DASH_PERCENT_SOURCE_MEDIA_NOTE_LEGEND_NOTE_PLURIEL}):data.sourceMediaNote[i].hasMedia&&!data.sourceMediaNote[i].hasNote?1===data.sourceMediaNote[i].nb?sData.push({pourcentage:data.sourceMediaNote[i].nb,label:localisedString.HNLOC_DASH_PERCENT_SOURCE_MEDIA_NOTE_LEGEND_MEDIA_SINGULIER}):sData.push({pourcentage:data.sourceMediaNote[i].nb,label:localisedString.HNLOC_DASH_PERCENT_SOURCE_MEDIA_NOTE_LEGEND_MEDIA_PLURIEL}):data.sourceMediaNote[i].hasMedia||data.sourceMediaNote[i].hasNote||(1===data.sourceMediaNote[i].nb?sData.push({pourcentage:data.sourceMediaNote[i].nb,label:localisedString.HNLOC_DASH_PERCENT_SOURCE_MEDIA_NOTE_LEGEND_NO_MEDIA_NOTE_SINGULIER}):sData.push({pourcentage:data.sourceMediaNote[i].nb,label:localisedString.HNLOC_DASH_PERCENT_SOURCE_MEDIA_NOTE_LEGEND_NO_MEDIA_NOTE_PLURIEL}));var dataWidget=new Array;if(dataWidget.push(localisedString.HNLOC_DASH_PERCENT_SOURCE_MEDIA_NOTE_TITLE),dataWidget.push(sData),void 0===cache[type]){var cachedData={};cachedData.compteurs=data.compteurs.nbSources,cachedData.SourcesAjoutRecent={},cachedData.dataWidget=dataWidget,cache[type]=cachedData}void 0===cache[type].SourcesAjoutRecent[currentPeriode]&&(cache[type].SourcesAjoutRecent[currentPeriode]=data.compteurs.SourcesAjoutRecent),callback(type,dataWidget,page,titre,currentLi,getSources,"sources")}}))}function getStatsEvenements(cache,type,page,currentPeriode,titre,uuid,port,callback,currentLi){$(currentLi).find(".contenu > div").html(vueSimpleCompteur),void 0!==cache[type]?($(currentLi).find(".contenu > div > .stats").html('<div class="k-shadow" ><div class="label">'+localisedString.HNLOC_DASH_EVENTS_TOTAL_LABEL+localisedString.HNLOC_2_POINTS+'</div><span class="statsValue">'+cache[type].total+'</span></div><div class="k-shadow"><div class="label"> '+cache[type].naissanceLabel+localisedString.HNLOC_2_POINTS+'</div><span class="statsValue">'+cache[type].naissanceLabelValue+'</span></div><div class="k-shadow"><div class="label"> '+cache[type].baptemeLabel+localisedString.HNLOC_2_POINTS+'</div><span class="statsValue">'+cache[type].baptemeLabelValue+'</span></div><div class="k-shadow"><div class="label"> '+cache[type].decesLabel+localisedString.HNLOC_2_POINTS+'</div><span class="statsValue">'+cache[type].decesLabelValue+'</span></div><div class="k-shadow"><div class="label"> '+cache[type].inhumationLabel+localisedString.HNLOC_2_POINTS+'</div><span class="statsValue">'+cache[type].inhumationLabelValue+'</span></div><div class="k-shadow"><div class="label"> '+cache[type].unionLabel+localisedString.HNLOC_2_POINTS+'</div><span class="statsValue">'+cache[type].unionLabelValue+"</span></div>"),callback(type,$(currentLi).find(".contenu > div").html(),page,titre,currentLi,getStatsEvenements,type)):(kendo.ui.progress($(currentLi).find(".contenu"),!0),$.ajax({indexWidget:type,url:"http://127.0.0.1:"+port+"/libheredis/request/events",type:"POST",dataType:"json",data:{uuid:uuid},success:function(data){var naissanceLabel="",baptemeLabel="",decesLabel="",inhumationLabel="",unionLabel="";naissanceLabel=0===data.nbNais||1===data.nbNais?localisedString.HNLOC_DASH_EVENTS_NBNAISSANCE_LABEL_MAJ_SINGULIER:localisedString.HNLOC_DASH_EVENTS_NBNAISSANCE_LABEL_MAJ_PLURIEL,baptemeLabel=0===data.nbBapt||1===data.nbBapt?localisedString.HNLOC_DASH_EVENTS_NBBAPTEME_LABEL_MAJ_SINGULIER:localisedString.HNLOC_DASH_EVENTS_NBBAPTEME_LABEL_MAJ_PLURIEL,decesLabel=0===data.nbDec||1===data.nbDec?localisedString.HNLOC_DASH_EVENTS_NBDECES_LABEL_MAJ_SINGULIER:localisedString.HNLOC_DASH_EVENTS_NBDECES_LABEL_MAJ_PLURIEL,inhumationLabel=0===data.nbInhum||1===data.nbInhum?localisedString.HNLOC_DASH_EVENTS_NBINHUMATION_LABEL_MAJ_SINGULIER:localisedString.HNLOC_DASH_EVENTS_NBINHUMATION_LABEL_MAJ_PLURIEL,unionLabel=0===data.nbUnions||1===data.nbUnions?localisedString.HNLOC_DASH_EVENTS_NBUNIONS_LABEL_MAJ_SINGULIER:localisedString.HNLOC_DASH_EVENTS_NBUNIONS_LABEL_MAJ_PLURIEL,$(currentLi).find(".contenu > div > .stats").html('<div class="k-shadow" ><div class="label">'+localisedString.HNLOC_DASH_EVENTS_TOTAL_LABEL+localisedString.HNLOC_2_POINTS+'</div><span class="statsValue">'+data.nbTotal+'</span></div><div class="k-shadow"><div class="label"> '+naissanceLabel+localisedString.HNLOC_2_POINTS+'</div><span class="statsValue">'+data.nbNais+'</span></div><div class="k-shadow"><div class="label"> '+baptemeLabel+localisedString.HNLOC_2_POINTS+'</div><span class="statsValue">'+data.nbBapt+'</span></div><div class="k-shadow"><div class="label"> '+decesLabel+localisedString.HNLOC_2_POINTS+'</div><span class="statsValue">'+data.nbDec+'</span></div><div class="k-shadow"><div class="label"> '+inhumationLabel+localisedString.HNLOC_2_POINTS+'</div><span class="statsValue">'+data.nbInhum+'</span></div><div class="k-shadow"><div class="label"> '+unionLabel+localisedString.HNLOC_2_POINTS+'</div><span class="statsValue">'+data.nbUnions+"</span></div>");var dataWidget=$(currentLi).find(".contenu > div").html();if(void 0===cache[type]){var cachedData={};cachedData.total=data.nbTotal,cachedData.naissanceLabel=naissanceLabel,cachedData.baptemeLabel=baptemeLabel,cachedData.decesLabel=decesLabel,cachedData.inhumationLabel=inhumationLabel,cachedData.unionLabel=unionLabel,cachedData.naissanceLabelValue=data.nbNais,cachedData.baptemeLabelValue=data.nbBapt,cachedData.decesLabelValue=data.nbDec,cachedData.inhumationLabelValue=data.nbInhum,cachedData.unionLabelValue=data.nbUnions,cache[type]=cachedData}callback(type,dataWidget,page,titre,currentLi,getStatsEvenements,type)}}))}function getDetailEvt(cache,type,a,titre,uuid,port,callback){void 0!==cache.detailEvt?callback(type,cache.detailEvt.dataWidget,a,titre,"detailEvt"):(kendo.ui.progress(a,!0),$.ajax({indexWidget:"detailEvt",url:"http://127.0.0.1:"+port+"/libheredis/request/detailEvt",type:"POST",dataType:"json",data:{uuid:uuid},success:function(data){var dataWidget,naissanceLabel="",baptemeLabel="",decesLabel="",inhumationLabel="",unionLabel="";naissanceLabel=0===data.nbNais||1===data.nbNais?localisedString.HNLOC_DASH_EVENTS_NBNAISSANCE_LABEL_MAJ_SINGULIER:localisedString.HNLOC_DASH_EVENTS_NBNAISSANCE_LABEL_MAJ_PLURIEL,baptemeLabel=0===data.nbBapt||1===data.nbBapt?localisedString.HNLOC_DASH_EVENTS_NBBAPTEME_LABEL_MAJ_SINGULIER:localisedString.HNLOC_DASH_EVENTS_NBBAPTEME_LABEL_MAJ_PLURIEL,decesLabel=0===data.nbDec||1===data.nbDec?localisedString.HNLOC_DASH_EVENTS_NBDECES_LABEL_MAJ_SINGULIER:localisedString.HNLOC_DASH_EVENTS_NBDECES_LABEL_MAJ_PLURIEL,inhumationLabel=0===data.nbInhum||1===data.nbInhum?localisedString.HNLOC_DASH_EVENTS_NBINHUMATION_LABEL_MAJ_SINGULIER:localisedString.HNLOC_DASH_EVENTS_NBINHUMATION_LABEL_MAJ_PLURIEL,unionLabel=0===data.nbUnions||1===data.nbUnions?localisedString.HNLOC_DASH_EVENTS_NBUNIONS_LABEL_MAJ_SINGULIER:localisedString.HNLOC_DASH_EVENTS_NBUNIONS_LABEL_MAJ_PLURIEL;var cdata='<ul class="tableauDetail"><li> '+naissanceLabel+"<ul><li> "+localisedString.HNLOC_DASH_NB_TOTAL_LABEL+localisedString.HNLOC_2_POINTS+data.nbNais+"</li>";if(""!==data.infoNaissanceAncienne&&""!==data.infoNaissanceRecente&&data.infoNaissanceAncienne!==data.infoNaissanceRecente?cdata+='<li data-InfoID="'+data.infoNaissanceAncienneID+'">'+localisedString.HNLOC_DASH_EVENTS_NA_LABEL+localisedString.HNLOC_2_POINTS+'<span id="infoNA">'+data.infoNaissanceAncienne+'</span></li><li data-infoID="'+data.infoNaissanceRecenteID+'">'+localisedString.HNLOC_DASH_EVENTS_NR_LABEL+localisedString.HNLOC_2_POINTS+'<span id="infoNR">'+data.infoNaissanceRecente+"</span></li>":data.infoNaissanceAncienne===data.infoNaissanceRecente&&(cdata+='<li><span id="infoNA">'+data.infoNaissanceAncienne+"</span></li>"),cdata+="</ul></li><li> "+baptemeLabel+"<ul><li> "+localisedString.HNLOC_DASH_NB_TOTAL_LABEL+localisedString.HNLOC_2_POINTS+data.nbBapt+"</li>",""!==data.infoBaptemeAncienne&&""!==data.infoBaptemeRecent&&data.infoBaptemeAncienne!==data.infoBaptemeRecent?cdata+='<li data-InfoID="'+data.infoBaptemeAncienneID+'" >'+localisedString.HNLOC_DASH_EVENTS_BA_LABEL+localisedString.HNLOC_2_POINTS+'<span id="infoBA">'+data.infoBaptemeAncienne+'</span></li><li data-InfoID="'+data.infoBaptemeRecentID+'">'+localisedString.HNLOC_DASH_EVENTS_BR_LABEL+localisedString.HNLOC_2_POINTS+'<span id="infoBR">'+data.infoBaptemeRecent+"</span></li>":data.infoBaptemeAncienne===data.infoBaptemeRecent&&(cdata+='<li><span id="infoBA">'+data.infoBaptemeAncienne+"</span></li>"),cdata+="</ul></li><li> "+decesLabel+"<ul><li> "+localisedString.HNLOC_DASH_NB_TOTAL_LABEL+localisedString.HNLOC_2_POINTS+data.nbDec+"</li>",""!==data.infoDecesAncienne&&""!==data.infoDecesRecent&&data.infoDecesAncienne!==data.infoDecesRecent?cdata+='<li data-InfoID="'+data.infoDecesAncienneID+'">'+localisedString.HNLOC_DASH_EVENTS_DA_LABEL+localisedString.HNLOC_2_POINTS+'<span id="infoDA">'+data.infoDecesAncienne+'</span></li><li data-InfoID="'+data.infoDecesRecentID+'">'+localisedString.HNLOC_DASH_EVENTS_DR_LABEL+localisedString.HNLOC_2_POINTS+'<span id="infoDR">'+data.infoDecesRecent+"</span></li>":data.infoDecesAncienne===data.infoDecesRecent&&(cdata+='<li><span id="infoDA">'+data.infoDecesAncienne+"</span></li>"),cdata+="</ul></li><li> "+inhumationLabel+"<ul><li> "+localisedString.HNLOC_DASH_NB_TOTAL_LABEL+localisedString.HNLOC_2_POINTS+data.nbInhum+"</li>",""!==data.infoInhumationAncienne&&""!==data.infoInhumationRecente&&data.infoInhumationAncienne!==data.infoInhumationRecente?cdata+='<li data-InfoID="'+data.infoInhumationAncienneID+'">'+localisedString.HNLOC_DASH_EVENTS_IA_LABEL+localisedString.HNLOC_2_POINTS+'<span id="infoIA">'+data.infoInhumationAncienne+'</span></li><li data-InfoID="'+data.infoInhumationRecenteID+'">'+localisedString.HNLOC_DASH_EVENTS_IR_LABEL+localisedString.HNLOC_2_POINTS+'<span id="infoIR">'+data.infoInhumationRecente+"</span></li>":data.infoInhumationAncienne===data.infoInhumationRecente&&(cdata+='<li><span id="infoIA">'+data.infoInhumationAncienne+"</span></li>"),cdata+="</ul></li><li> "+unionLabel+"<ul><li> "+localisedString.HNLOC_DASH_NB_TOTAL_LABEL+localisedString.HNLOC_2_POINTS+data.nbUnions+"</li>",""!==data.infoUnionRecente&&""!==data.infoUnionAncienne?cdata+='<li data-InfoID="'+data.infoUnionAncienneID+'">'+localisedString.HNLOC_DASH_EVENTS_UA_LABEL+localisedString.HNLOC_2_POINTS+'<span id="infoUA">'+data.infoUnionAncienne+'</span></li><li data-InfoID="'+data.infoUnionRecenteID+'">'+localisedString.HNLOC_DASH_EVENTS_UR_LABEL+localisedString.HNLOC_2_POINTS+'<span id="infoUR">'+data.infoUnionRecente+"</span></li>":data.infoUnionRecente===data.infoUnionAncienne&&(cdata+='<li><span id="infoUR">'+data.infoUnionRecente+"</span></li>"),dataWidget=cdata+="</ul></li></ul>",void 0===cache.detailEvt){var cachedData={};cachedData.dataWidget=dataWidget,cache.detailEvt=cachedData}callback(type,dataWidget,a,titre,"detailEvt")}}))}function getLieux(cache,type,page,currentPeriode,titre,uuid,port,callback,currentLi){if($(currentLi).find(".contenu > div").html(vueSimpleNuageApercuDico),$(currentLi).toggleClass("bigWidget"),$(currentLi).find(".stats .label").html(localisedString.HNLOC_DASH_NB_TOTAL_LABEL+localisedString.HNLOC_2_POINTS),$(currentLi).find(".ouvrirDico").html(localisedString.HNLOC_DASH_BUTTON_OUVRIR_DICO_LABEL),void 0!==cache[type]){$(currentLi).find(".stats .statsValue").html(cache.lieux.compteurs);for(var i=0;i<cache[type].nuageLieux.length;i++)1===cache[type].nuageLieux[i].poids?$(currentLi).find(".tags").append('<a title="'+cache[type].nuageLieux[i].lieu+localisedString.HNLOC_2_POINTS+cache[type].nuageLieux[i].poids+localisedString.HNLOC_DASH_CLOUDWORD_UTILISATION_SINGULIER+'" data-codeID="'+cache[type].nuageLieux[i].codeID+'" rel="'+cache[type].nuageLieux[i].poids+'">'+cache[type].nuageLieux[i].lieu+"</a>"):$(currentLi).find(".tags").append('<a title="'+cache[type].nuageLieux[i].lieu+localisedString.HNLOC_2_POINTS+cache[type].nuageLieux[i].poids+localisedString.HNLOC_DASH_CLOUDWORD_UTILISATION_PLURIEL+'" data-codeID="'+cache[type].nuageLieux[i].codeID+'" rel="'+cache[type].nuageLieux[i].poids+'">'+cache[type].nuageLieux[i].lieu+"</a>");callback(type,cache.lieux.dataWidget,page,titre,currentLi,getLieux,"lieux")}else kendo.ui.progress($(currentLi).find(".contenu"),!0),$.ajax({indexWidget:type,url:"http://127.0.0.1:"+port+"/libheredis/request/lieux",type:"POST",dataType:"json",data:{uuid:uuid},success:function(data){for(var total=0,c=0;c<data.LieuxGeoLoc.length;c++)total+=Number(data.LieuxGeoLoc[c].nb);$(currentLi).find(".stats .statsValue").html(total);for(var i=0;i<data.nuageLieux.length;i++)1===data.nuageLieux[i].poids?$(currentLi).find(".tags").append('<a title="'+data.nuageLieux[i].lieu+localisedString.HNLOC_2_POINTS+data.nuageLieux[i].poids+localisedString.HNLOC_DASH_CLOUDWORD_UTILISATION_SINGULIER+'" data-codeID="'+data.nuageLieux[i].codeID+'" rel="'+data.nuageLieux[i].poids+'">'+data.nuageLieux[i].lieu+"</a>"):$(currentLi).find(".tags").append('<a title="'+data.nuageLieux[i].lieu+localisedString.HNLOC_2_POINTS+data.nuageLieux[i].poids+localisedString.HNLOC_DASH_CLOUDWORD_UTILISATION_PLURIEL+'" data-codeID="'+data.nuageLieux[i].codeID+'" rel="'+data.nuageLieux[i].poids+'">'+data.nuageLieux[i].lieu+"</a>");var lgData=[];if(0===data.LieuxGeoLoc.length)$(currentLi).find(".pourcentageLGEO").html('<div class="defautViewKendo">pas de lieux</div>');else for(i=0;i<data.LieuxGeoLoc.length;i++)data.LieuxGeoLoc[i].lg?1===data.LieuxGeoLoc[i].nb?lgData.push({pourcentage:data.LieuxGeoLoc[i].nb,label:localisedString.HNLOC_DASH_PERCENT_LOCALISATIONGEO_LEGEND_YES_SINGULIER}):lgData.push({pourcentage:data.LieuxGeoLoc[i].nb,label:localisedString.HNLOC_DASH_PERCENT_LOCALISATIONGEO_LEGEND_YES_PLURIEL}):data.LieuxGeoLoc[i].lg||(1===data.LieuxGeoLoc[i].nb?lgData.push({pourcentage:data.LieuxGeoLoc[i].nb,label:localisedString.HNLOC_DASH_PERCENT_LOCALISATIONGEO_LEGEND_NO_SINGULIER}):lgData.push({pourcentage:data.LieuxGeoLoc[i].nb,label:localisedString.HNLOC_DASH_PERCENT_LOCALISATIONGEO_LEGEND_NO_PLURIEL}));var dataWidget=new Array;if(dataWidget.push(localisedString.HNLOC_DASH_PERCENT_LOCALISATION_GEO_TITLE),dataWidget.push(lgData),void 0===cache[type]){var cachedData={};cachedData.compteurs=total,cachedData.nuageLieux=data.nuageLieux,cachedData.dataWidget=dataWidget,cache[type]=cachedData}callback(type,dataWidget,page,titre,currentLi,getLieux,"lieux")}})}function getMedia(cache,type,page,currentPeriode,titre,uuid,port,callback,currentLi){$(currentLi).find(".contenu > div").html(vueSimpleEtApercuEtDico),$(currentLi).find(" .stats .label").html(localisedString.HNLOC_DASH_NB_TOTAL_LABEL+localisedString.HNLOC_2_POINTS),$(currentLi).find(".ouvrirDico").html(localisedString.HNLOC_DASH_BUTTON_OUVRIR_DICO_LABEL),void 0!==cache[type]?($(currentLi).find(" .stats .statsValue").html(cache[type].compteurs),callback(type,cache[type].dataWidget,page,titre,currentLi,getMedia,"media")):(kendo.ui.progress($(currentLi).find(".contenu"),!0),$.ajax({indexWidget:type,url:"http://127.0.0.1:"+port+"/libheredis/request/media",type:"POST",dataType:"json",data:{uuid:uuid},success:function(data){var mData=[],total=0;if(0===data.length)$(currentLi).find(".miniature").html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>");else for(var i=0;i<data.length;i++){var label1;if(data[i].isUsed)data[i].nb>1?label1=localisedString.HNLOC_DASH_PERCENT_MEDIA_LEGEND_USED_PLURIEL:1===data[i].nb&&(label1=localisedString.HNLOC_DASH_PERCENT_MEDIA_LEGEND_USED_SINGULIER),mData.push({pourcentage:data[i].nb,label:label1}),total+=data[i].nb;else if(!data[i].isUsed){var label2;data[i].nb>1?label2=localisedString.HNLOC_DASH_PERCENT_MEDIA_LEGEND_UNUSED_PLURIEL:1===data[i].nb&&(label2=localisedString.HNLOC_DASH_PERCENT_MEDIA_LEGEND_UNUSED_SINGULIER),mData.push({pourcentage:data[i].nb,label:label2}),total+=data[i].nb}}$(currentLi).find(" .stats .statsValue").html(total);var dataWidget=new Array;if(dataWidget.push(localisedString.HNLOC_DASH_PERCENT_MEDIA_TITLE),dataWidget.push(mData),void 0===cache[type]){var cachedData={};cachedData.compteurs=total,cachedData.dataWidget=dataWidget,cache[type]=cachedData}callback(type,dataWidget,page,titre,currentLi,getMedia,"media")}}))}function getNuageNom(cache,type,page,currentPeriode,titre,uuid,port,callback,currentLi){var squelette=vueSimpleNuageMot;if($(currentLi).find(".contenu > div").html(squelette),$(currentLi).find(".label").html(localisedString.HNLOC_DASH_NB_TOTAL_LABEL+localisedString.HNLOC_2_POINTS),$(currentLi).find(".ouvrirDico").html(localisedString.HNLOC_DASH_BUTTON_OUVRIR_DICO_LABEL),void 0!==cache[type]){$(currentLi).find(".statsValue").html(cache[type].compteurs);for(var i=0;i<cache[type].nuage.length;i++)1===cache[type].nuage[i].Poids?$(currentLi).find(".tags").append('<a title="'+cache[type].nuage[i].Nom+localisedString.HNLOC_2_POINTS+cache[type].nuage[i].Poids+localisedString.HNLOC_DASH_CLOUDWORD_UTILISATION_SINGULIER+'" data-codeID="'+cache[type].nuage[i].codeID+'"rel="'+cache[type].nuage[i].Poids+'">'+cache[type].nuage[i].Nom+"</a>"):$(currentLi).find(".tags").append('<a title="'+cache[type].nuage[i].Nom+localisedString.HNLOC_2_POINTS+cache[type].nuage[i].Poids+localisedString.HNLOC_DASH_CLOUDWORD_UTILISATION_PLURIEL+'" data-codeID="'+cache[type].nuage[i].codeID+'"rel="'+cache[type].nuage[i].Poids+'">'+cache[type].nuage[i].Nom+"</a>");callback(type,"",page,titre,currentLi,getNuageNom,"nuageNom")}else kendo.ui.progress($(currentLi).find(".contenu"),!0),$.ajax({indexWidget:type,url:"http://127.0.0.1:"+port+"/libheredis/request/nuageNom",type:"POST",dataType:"json",data:{uuid:uuid,sexe:"all",detail:0,cat:"infosFichiers",nb:45},success:function(data){$(currentLi).find(".statsValue").html(data.nombre);for(var i=0;i<data.noms.length;i++)1===data.noms[i].Poids?$(currentLi).find(".tags").append('<a title="'+data.noms[i].Nom+localisedString.HNLOC_2_POINTS+data.noms[i].Poids+localisedString.HNLOC_DASH_CLOUDWORD_UTILISATION_SINGULIER+'" data-codeID="'+data.noms[i].codeID+'"rel="'+data.noms[i].Poids+'">'+data.noms[i].Nom+"</a>"):$(currentLi).find(".tags").append('<a title="'+data.noms[i].Nom+localisedString.HNLOC_2_POINTS+data.noms[i].Poids+localisedString.HNLOC_DASH_CLOUDWORD_UTILISATION_PLURIEL+'" data-codeID="'+data.noms[i].codeID+'"rel="'+data.noms[i].Poids+'">'+data.noms[i].Nom+"</a>");if(void 0===cache[type]){var cachedData={};cachedData.compteurs=data.nombre,cachedData.nuage=data.noms,cachedData.dataWidget=[],cache[type]=cachedData}callback(type,"",page,titre,currentLi,getNuageNom,"nuageNom")}})}function getNuagePrenom(cache,type,page,currentPeriode,titre,uuid,port,callback,currentLi){var squelette=vueSimpleNuageMot;if($(currentLi).find(".contenu > div").html(squelette),$(currentLi).find(".label").html(localisedString.HNLOC_DASH_NB_TOTAL_LABEL+localisedString.HNLOC_2_POINTS),$(currentLi).find(".ouvrirDico").html(localisedString.HNLOC_DASH_BUTTON_OUVRIR_DICO_LABEL),void 0!==cache[type]){$(currentLi).find(".statsValue").html(cache.nuagePrenom.compteurs);for(var i=0;i<cache[type].nuage.length;i++)1===cache[type].nuage[i].Poids?$(currentLi).find(".tags").append('<a title="'+cache[type].nuage[i].Prenom+localisedString.HNLOC_2_POINTS+cache[type].nuage[i].Poids+localisedString.HNLOC_DASH_CLOUDWORD_UTILISATION_SINGULIER+'" data-codeID="'+cache[type].nuage[i].codeID+'"rel="'+cache[type].nuage[i].Poids+'">'+cache[type].nuage[i].Prenom+"</a>"):$(currentLi).find(".tags").append('<a title="'+cache[type].nuage[i].Prenom+localisedString.HNLOC_2_POINTS+cache[type].nuage[i].Poids+localisedString.HNLOC_DASH_CLOUDWORD_UTILISATION_PLURIEL+'" data-codeID="'+cache[type].nuage[i].codeID+'"rel="'+cache[type].nuage[i].Poids+'">'+cache[type].nuage[i].Prenom+"</a>");callback(type,"",page,titre,currentLi,getNuagePrenom,"nuagePrenom")}else kendo.ui.progress($(currentLi).find(".contenu"),!0),$.ajax({indexWidget:type,url:"http://127.0.0.1:"+port+"/libheredis/request/nuagePrenom",type:"POST",dataType:"json",data:{uuid:uuid,sexe:"all",detail:0},success:function(data){$(currentLi).find(".statsValue").html(data.nombre);for(var i=0;i<data.prenoms.length;i++)1===data.prenoms[i].Poids?$(currentLi).find(".tags").append('<a title="'+data.prenoms[i].Prenom+localisedString.HNLOC_2_POINTS+data.prenoms[i].Poids+localisedString.HNLOC_DASH_CLOUDWORD_UTILISATION_SINGULIER+'"  data-codeID="'+data.prenoms[i].codeID+'"rel="'+data.prenoms[i].Poids+'">'+data.prenoms[i].Prenom+"</a>"):$(currentLi).find(".tags").append('<a title="'+data.prenoms[i].Prenom+localisedString.HNLOC_2_POINTS+data.prenoms[i].Poids+localisedString.HNLOC_DASH_CLOUDWORD_UTILISATION_PLURIEL+'"  data-codeID="'+data.prenoms[i].codeID+'"rel="'+data.prenoms[i].Poids+'">'+data.prenoms[i].Prenom+"</a>");if(void 0===cache[type]){var cachedData={};cachedData.compteurs=data.nombre,cachedData.nuage=data.prenoms,cachedData.dataWidget=[],cache[type]=cachedData}callback(type,"",page,titre,currentLi,getNuagePrenom,"nuagePrenom")}})}function getNuageProfession(cache,type,page,currentPeriode,titre,uuid,port,callback,currentLi){var squelette=vueSimpleNuageMot;if($(currentLi).find(".contenu > div").html(squelette),$(currentLi).find(".stats .label").html(localisedString.HNLOC_DASH_NB_TOTAL_LABEL+localisedString.HNLOC_2_POINTS),$(currentLi).find(".ouvrirDico").html(localisedString.HNLOC_DASH_BUTTON_OUVRIR_DICO_LABEL),void 0!==cache[type]){$(currentLi).find(".statsValue").html(cache.nuageProfession.compteurs);for(var i=0;i<cache[type].nuage.length;i++)1===cache[type].nuage[i].Poids?$(currentLi).find(".tags").append('<a  title="'+cache[type].nuage[i].Profession+localisedString.HNLOC_2_POINTS+cache[type].nuage[i].Poids+localisedString.HNLOC_DASH_CLOUDWORD_UTILISATION_SINGULIER+'" data-codeID="'+cache[type].nuage[i].codeID+'"rel="'+cache[type].nuage[i].Poids+'">'+cache[type].nuage[i].Profession+"</a>"):$(currentLi).find(".tags").append('<a  title="'+cache[type].nuage[i].Profession+localisedString.HNLOC_2_POINTS+cache[type].nuage[i].Poids+localisedString.HNLOC_DASH_CLOUDWORD_UTILISATION_PLURIEL+'" data-codeID="'+cache[type].nuage[i].codeID+'"rel="'+cache[type].nuage[i].Poids+'">'+cache[type].nuage[i].Profession+"</a>");callback(type,"",page,titre,currentLi,getNuageProfession,"nuageProfession")}else kendo.ui.progress($(currentLi).find(".contenu"),!0),$.ajax({indexWidget:type,url:"http://localhost:"+port+"/libheredis/request/nuageProfession",type:"POST",dataType:"json",data:{uuid:uuid},success:function(data){$(currentLi).find(".stats .statsValue").html(data.nombre);for(var i=0;i<data.professions.length;i++)1===data.professions[i].Poids?$(currentLi).find(".tags").append('<a title="'+data.professions[i].Profession+localisedString.HNLOC_2_POINTS+data.professions[i].Poids+localisedString.HNLOC_DASH_CLOUDWORD_UTILISATION_SINGULIER+'"  data-codeID="'+data.professions[i].codeID+'"rel="'+data.professions[i].Poids+'">'+data.professions[i].Profession+"</a>"):$(currentLi).find(".tags").append('<a title="'+data.professions[i].Profession+localisedString.HNLOC_2_POINTS+data.professions[i].Poids+localisedString.HNLOC_DASH_CLOUDWORD_UTILISATION_PLURIEL+'"  data-codeID="'+data.professions[i].codeID+'"rel="'+data.professions[i].Poids+'">'+data.professions[i].Profession+"</a>");if(void 0===cache[type]){var cachedData={};cachedData.compteurs=data.nombre,cachedData.nuage=data.professions,cachedData.dataWidget=[],cache[type]=cachedData}callback(type,"",page,titre,currentLi,getNuageProfession,"nuageProfession")}})}function getHOL(cache,type,page,currentPeriode,titre,uuid,port,callback,currentLi){kendo.ui.progress($(currentLi).find(".contenu"),!0),navigator.onLine?$.ajax({indexWidget:type,url:"http://127.0.0.1:"+port+"/libheredis/appServices/dashHOL",type:"POST",dataType:"json",data:{uuid:uuid},success:function(data){if(kendo.ui.progress($(currentLi).find(".contenu"),!1),data.holConnected)navigator.onLine?getExtraDataHOL(cache,data.url,data,currentLi,function(holData){$(currentLi).find(".fullScreen").removeAttr("disabled"),$(currentLi).find(".fullScreen").removeClass("disableButton"),callback(type,holData,page,titre,currentLi,getHOL,"hol")}):(kendo.ui.progress($(currentLi).find(".contenu"),!1),$(currentLi).find(".contenu > div").html('<span class="noInternetDefaultMsg">'+localisedString.HNLOC_DASH_NOINTERNET+"</span>"),$(currentLi).find(".fullScreen").toggleClass("disableButton"),$(currentLi).find(".fullScreen").attr("disabled","disabled"),$(currentLi).find(".fullScreen").off("hover"),$(currentLi).find(".Export").hide(),callback(type,"",page,titre,currentLi,getHOL,"hol"));else{var holData='<div class="holNotConnected"><p>'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</br></br>"+localisedString.HNLOC_DASH_HOL_CONNECT+'</p><button class="holConnect"><img src="../Common/Resources/gerer_compte.png"/></button><span>'+localisedString.HNLOC_DASH_CONNEXION+"</span></div>";$(currentLi).find(".contenu > div").html(holData),$(currentLi).find(".fullScreen").toggleClass("disableButton"),$(currentLi).find(".fullScreen").attr("disabled","disabled"),$(currentLi).find(".fullScreen").off("hover"),$(currentLi).find(".Export").hide(),delete cache.hol,callback(type,[],page,titre,currentLi,getHOL,"hol")}}}):(kendo.ui.progress($(currentLi).find(".contenu"),!1),$(currentLi).find(".contenu > div").html('<span class="noInternetDefaultMsg">'+localisedString.HNLOC_DASH_NOINTERNET+"</span>"),$(currentLi).find(".fullScreen").toggleClass("disableButton"),$(currentLi).find(".fullScreen").attr("disabled","disabled"),$(currentLi).find(".fullScreen").off("hover"),callback(type,"",page,titre,currentLi,getHOL,"hol"))}function getDetailHOL(cache,context,titre,uuid,port,callback,defaultCallback){$(context).parent().css("min-height","500px"),$(context).parent().hasClass("holContent")||$(context).parent().toggleClass("holContent"),kendo.ui.progress($(context).parent(),!0);var accountInfo=cache.HOLAccountInfo;$(context).append("<li><div></div></li>");var mfContainer=$(context).find("li").last().find("div");$(context).append("<li><div></div></li>");var apContainer=$(context).find("li").last().find("div");$(context).append("<li><div></div></li>");var fpContainer=$(context).find("li").last().find("div");$(context).append("<li><div></div></li>");var sauvContainer=$(context).find("li").last().find("div"),main=function(){$.ajax({indexWidget:"detailHol",url:accountInfo.url,type:"POST",dataType:"json",data:{filename:decodeURIComponent(accountInfo.filename),idAccount:accountInfo.idAccount,idPubli:accountInfo.idPubli,idSave:accountInfo.idSave,detail:1},success:function(data){kendo.ui.progress($(context).parent(),!1),mfContainer.html('<span class="titreSectionHOLDetail">'+localisedString.HNLOC_DASH_HOL_TITLE_CURRENTFILE+decodeURIComponent(accountInfo.filename)+" </span>"+mf),apContainer.html('<span class="titreSectionHOLDetail">'+localisedString.HNLOC_DASH_HOL_TITLE_ALBUMS+"</span>"+ap),fpContainer.html('<span class="titreSectionHOLDetail">'+localisedString.HNLOC_DASH_HOL_TITLE_PUBLISH_OTHERS+"</span>"+fp),sauvContainer.html('<span class="titreSectionHOLDetail">'+localisedString.HNLOC_DASH_HOL_TITLE_SAVE_OTHERS+"</span>"+sauv),$(mfContainer).find(".nomFichier").html(decodeURIComponent(accountInfo.filename)),$(mfContainer).find(".publiSection > .title").html(localisedString.HNLOC_DASH_HOL_CURRENTFILE_SECTION_PUBLISH_TITLE),$(mfContainer).find(".sauvSection > .title").html(localisedString.HNLOC_DASH_HOL_CURRENTFILE_SECTION_SAVE_TITLE),$(mfContainer).find(".indiceSection > .title").html(localisedString.HNLOC_DASH_HOL_CURRENTFILE_SECTION_INDICE_TITLE),$(mfContainer).find(".SplusDetailDefaultMsg > .title").html(localisedString.HNLOC_DASH_HOL_TITLE_DEFAULTMSG_SPLUS),$(mfContainer).find(".datePubliLabel").html(localisedString.HNLOC_DASH_HOL_SECTION_PUSBLISH_DATE_LATEST),$(mfContainer).find(".dateSauvLabel").html(localisedString.HNLOC_DASH_HOL_SECTION_SAVE_DATE_LATEST),$(mfContainer).find(".saveLink").html(localisedString.HNLOC_DASH_HOL_BUTTON_SAVE),$(mfContainer).find(".publishLink").html(localisedString.HNLOC_DASH_HOL_BUTTON_PUBLISH),$(mfContainer).find(".dateNotification").css("right","7px");var usedSpace=[];if(data.curFile.isPublished){$(mfContainer).find(".datePubli").html(data.curFile.publi.date),$(mfContainer).find(".urlFile").html(data.curFile.publi.url);var indiCountLabel=localisedString.HNLOC_DASH_HOL_LABEL_INDIVIDUS_PLURIEL,sourcesCountLabel=localisedString.HNLOC_DASH_HOL_LABEL_SOURCE_PLURIEL,unionCountLabel=localisedString.HNLOC_DASH_HOL_LABEL_UNION_PLURIEL;"1"!==data.curFile.publi.nbIndis&&"0"!==data.curFile.publi.nbIndis||(indiCountLabel=localisedString.HNLOC_DASH_HOL_LABEL_INDIVIDUS_SINGULIER),"1"!==data.curFile.publi.nbUnions&&"0"!==data.curFile.publi.nbUnions||(unionCountLabel=localisedString.HNLOC_DASH_HOL_LABEL_SOURCE_SINGULIER),"1"!==data.curFile.publi.nbSources&&"0"!==data.curFile.publi.nbSources||(sourcesCountLabel=localisedString.HNLOC_DASH_HOL_LABEL_UNION_SINGULIER),data.curFile.publi.isPrivate?$(mfContainer).find(".publi").html(data.curFile.publi.nbIndis+" "+indiCountLabel+" / "+data.curFile.publi.nbUnions+" "+unionCountLabel+" / "+data.curFile.publi.nbSources+" "+sourcesCountLabel+'<img class="privateIcon"  src="../Common/Resources/clef.png"></li>'):$(mfContainer).find(".publi").html(data.curFile.publi.nbIndis+" "+indiCountLabel+" / "+data.curFile.publi.nbUnions+" "+unionCountLabel+" / "+data.curFile.publi.nbSources+" "+sourcesCountLabel)}else $(mfContainer).find(".publiInfos").remove(),$(mfContainer).find(".defautMsgPubliFile").append(localisedString.HNLOC_DASH_HOL_MSG_NOT_PUBLISHED),$(mfContainer).find(".defautMsgPubli").show();if(data.hasSplus){if(data.curFile.isPublished)if(0===data.curFile.publi.nbIndices)$(mfContainer).find(".indiceSection").remove();else{var maxIndices=4;data.curFile.publi.nbIndices<maxIndices&&(maxIndices=data.curFile.publi.nbIndices);for(var i=0;i<maxIndices;i++)$(mfContainer).find(".indices").append('<li class=""><a class="BlockADetail" target="_blank" href="'+data.curFile.publi.indices[i].url+'"><span class="cadreLien"><span title="Indice Heredis Completion" class="iconNotificationIndiceCompletionGris"></span><span class="texteServ"><p class="titreServ">'+data.curFile.publi.indices[i].txt+'</p><p class="autres">'+data.curFile.publi.indices[i].auteur+'</p></span><span class="dateNotification">'+data.curFile.publi.indices[i].date+"</span></span></a></li>")}else $(mfContainer).find(".indiceSection").remove();indiCountLabel=localisedString.HNLOC_DASH_HOL_LABEL_INDIVIDUS_PLURIEL,sourcesCountLabel=localisedString.HNLOC_DASH_HOL_LABEL_SOURCE_PLURIEL,unionCountLabel=localisedString.HNLOC_DASH_HOL_LABEL_UNION_PLURIEL;var mediaCountLabel=localisedString.HNLOC_DASH_HOL_LABEL_MEDIA_PLURIEL;if(data.curFile.isSaved?("1"!==data.curFile.save.nbIndis&&"0"!==data.curFile.save.nbIndis||(indiCountLabel=localisedString.HNLOC_DASH_HOL_LABEL_INDIVIDUS_SINGULIER),"1"!==data.curFile.save.nbUnions&&"0"!==data.curFile.save.nbUnions||(unionCountLabel=localisedString.HNLOC_DASH_HOL_LABEL_UNION_SINGULIER),"1"!==data.curFile.save.nbSources&&"0"!==data.curFile.save.nbSources||(sourcesCountLabel=localisedString.HNLOC_DASH_HOL_LABEL_SOURCE_SINGULIER),"1"!==data.curFile.save.nbMedias&&"0"!==data.curFile.save.nbMedias||(mediaCountLabel=localisedString.HNLOC_DASH_HOL_LABEL_MEDIA_SINGULIER),$(mfContainer).find(".dateSauv").html(data.curFile.save.date),"0"===data.curFile.save.sansMedia?$(mfContainer).find(".sauv").html(data.curFile.save.nbIndis+indiCountLabel+" / "+data.curFile.save.nbUnions+unionCountLabel+" / "+data.curFile.save.nbSources+sourcesCountLabel+" / "+data.curFile.save.nbMedias+mediaCountLabel):$(mfContainer).find(".sauv").html(data.curFile.save.nbIndis+indiCountLabel+" / "+data.curFile.save.nbUnions+unionCountLabel+" / "+data.curFile.save.nbSources+sourcesCountLabel+" / "+localisedString.HNLOC_DASH_HOL_LABEL_NOMEDIA)):($(mfContainer).find(".sauvInfos").remove(),$(mfContainer).find(".defautMsgSaveFile").html(localisedString.HNLOC_DASH_HOL_MSG_NOT_SAVED),$(mfContainer).find(".defautMsgSave").show()),data.otherSaves.nbSaves>0){for(i=0;i<data.otherSaves.nbSaves;i++)indiCountLabel=localisedString.HNLOC_DASH_HOL_LABEL_INDIVIDUS_PLURIEL,sourcesCountLabel=localisedString.HNLOC_DASH_HOL_LABEL_SOURCE_PLURIEL,unionCountLabel=localisedString.HNLOC_DASH_HOL_LABEL_UNION_PLURIEL,mediaCountLabel=localisedString.HNLOC_DASH_HOL_LABEL_MEDIA_PLURIEL,"1"!==data.otherSaves.saves[i].nbIndis&&"0"!==data.otherSaves.saves[i].nbIndis||(indiCountLabel=localisedString.HNLOC_DASH_HOL_LABEL_INDIVIDUS_SINGULIER),"1"!==data.otherSaves.saves[i].nbUnions&&"0"!==data.otherSaves.saves[i].nbUnions||(unionCountLabel=localisedString.HNLOC_DASH_HOL_LABEL_UNION_SINGULIER),"1"!==data.otherSaves.saves[i].nbSources&&"0"!==data.otherSaves.saves[i].nbSources||(sourcesCountLabel=localisedString.HNLOC_DASH_HOL_LABEL_SOURCE_SINGULIER),"1"!==data.otherSaves.saves[i].nbMedias&&"0"!==data.otherSaves.saves[i].nbMedias||(mediaCountLabel=localisedString.HNLOC_DASH_HOL_LABEL_MEDIA_SINGULIER),"0"===data.otherSaves.saves[i].sansMedia?$(sauvContainer).find(".tableauDetail").append('<li ><span class="title">'+data.otherSaves.saves[i].filename+"</span><ul><li>"+localisedString.HNLOC_DASH_HOL_SECTION_SAVE_DATE_LATEST+'<span class="dateSauv">'+data.otherSaves.saves[i].date+"</li><li>"+data.otherSaves.saves[i].nbIndis+" "+indiCountLabel+" / "+data.otherSaves.saves[i].nbUnions+" "+unionCountLabel+" / "+data.otherSaves.saves[i].nbSources+" "+sourcesCountLabel+" / "+data.otherSaves.saves[i].nbMedias+" "+mediaCountLabel+" </li></ul></li>"):$(sauvContainer).find(".tableauDetail").append('<li ><span class="title">'+data.otherSaves.saves[i].filename+"</span><ul><li>"+localisedString.HNLOC_DASH_HOL_SECTION_SAVE_DATE_LATEST+'<span class="dateSauv">'+data.otherSaves.saves[i].date+"</li><li>"+data.otherSaves.saves[i].nbIndis+" "+indiCountLabel+" / "+data.otherSaves.saves[i].nbUnions+" "+unionCountLabel+" / "+data.otherSaves.saves[i].nbSources+" "+sourcesCountLabel+" /"+localisedString.HNLOC_DASH_HOL_LABEL_NOMEDIA+" </li></ul></li>");$(sauvContainer).find(".tableauDetail").append('<li><span class="title">'+localisedString.HNLOC_DASH_HOL_SECTION_USED_SPACE_TITLE+'</span><ul><li><div id="progressBarSvgd"></div></li><li><span class="txt" >'+data.otherSaves.usedSpace.txt+"</span></li></ul></li>"),usedSpace.push(data.otherSaves.usedSpace.percent)}else $(sauvContainer).find("ul").html("<li>"+localisedString.HNLOC_DASH_HOL_NOSAVE+"</li>")}else $(mfContainer).find(".SplusDetailSection").remove(),$(mfContainer).find(".Splus").html('<div class="k-shadow defaultHOLSPLusMessage">'+localisedString.HNLOC_DASH_HOL_NO_SERVICEPLUS+"<br/> &raquo"+localisedString.HNLOC_DASH_HOL_NO_SERVICEPLUS_MORE+' <span><a style="cursor:pointer" target="_blank" href="'+data.urlSplus+'">'+localisedString.HNLOC_DASH_HOL_NO_SERVICEPLUS_LINK_TEXT+"</a></span></div>"),$(mfContainer).find(".SplusDetailDefaultMsg").show(),$(sauvContainer).remove();if(data.albums.nbAlbums>0)for(i=0;i<data.albums.nbAlbums;i++){var photosLabel=localisedString.HNLOC_DASH_HOL_ALBUMS_SECTION_SUBSECTION_PHOTOS_TITLE_PLURIEL;"0"!==data.albums.albums[i].nbPhotos&&"1"!==data.albums.albums[i].nbPhotos||(photosLabel=localisedString.HNLOC_DASH_HOL_ALBUMS_SECTION_SUBSECTION_PHOTOS_TITLE_SINGULIER),data.albums.albums[i].isPrivate?$(apContainer).find(".tableauDetail").append('<li><span class="title">'+data.albums.albums[i].infos+"</span><ul><li>"+localisedString.HNLOC_DASH_HOL_ALBUMS_SECTION_CREATE_DATE+data.albums.albums[i].date+'<img class="privateIcon" src="../Common/Resources/clef.png"></li><li class="listPhotos"  data-urlalbum='+data.albums.albums[i].getListePhotos+"> "+data.albums.albums[i].nbPhotos+photosLabel+"<ul></ul></li></ul></li>"):$(apContainer).find(".tableauDetail").append('<li><span class="title">'+data.albums.albums[i].infos+"</span><ul><li>"+localisedString.HNLOC_DASH_HOL_ALBUMS_SECTION_CREATE_DATE+data.albums.albums[i].date+'</li><li class="listPhotos"  data-urlalbum='+data.albums.albums[i].getListePhotos+"> "+data.albums.albums[i].nbPhotos+photosLabel+"<ul></ul></li></ul></li>")}else $(apContainer).find("ul").html("<li>"+localisedString.HNLOC_DASH_HOL_NOALBUM+"</li>");indiCountLabel=localisedString.HNLOC_DASH_HOL_LABEL_INDIVIDUS_PLURIEL,sourcesCountLabel=localisedString.HNLOC_DASH_HOL_LABEL_SOURCE_PLURIEL,unionCountLabel=localisedString.HNLOC_DASH_HOL_LABEL_UNION_PLURIEL;if(data.otherPublis.nbPublis>0)for(i=0;i<data.otherPublis.nbPublis;i++)null!==data.otherPublis.publis[i]&&("1"!==data.otherPublis.publis[i].nbIndis&&"0"!==data.otherPublis.publis[i].nbIndis||(indiCountLabel=localisedString.HNLOC_DASH_HOL_LABEL_INDIVIDUS_SINGULIER),"1"!==data.otherPublis.publis[i].nbUnions&&"0"!==data.otherPublis.publis[i].nbUnions||(unionCountLabel=localisedString.HNLOC_DASH_HOL_LABEL_UNION_SINGULIER),"1"!==data.otherPublis.publis[i].nbSources&&"0"!==data.otherPublis.publis[i].nbSources||(sourcesCountLabel=localisedString.HNLOC_DASH_HOL_LABEL_SOURCE_SINGULIER),data.otherPublis.publis[i].isPrivate?$(fpContainer).find(".tableauDetail").append('<li ><span class="title">'+data.otherPublis.publis[i].title+"</span><ul><li>"+localisedString.HNLOC_DASH_HOL_SECTION_PUSBLISH_DATE_LATEST+'<span class="dateSauv">'+data.otherPublis.publis[i].date+'</span><span class="urlFile">'+data.otherPublis.publis[i].url+"</span></li><li>"+data.otherPublis.publis[i].nbIndis+" "+indiCountLabel+" / "+data.otherPublis.publis[i].nbUnions+" "+unionCountLabel+" / "+data.otherPublis.publis[i].nbSources+" "+sourcesCountLabel+'<img class="privateIcon" src="../Common/Resources/clef.png"></li></ul></li>'):$(fpContainer).find(".tableauDetail").append('<li><span class="title">'+data.otherPublis.publis[i].title+"</span><ul><li>"+localisedString.HNLOC_DASH_HOL_SECTION_PUSBLISH_DATE_LATEST+'<span class="dateSauv">'+data.otherPublis.publis[i].date+'<span class="urlFile">'+data.otherPublis.publis[i].url+"</span></li><li>"+data.otherPublis.publis[i].nbIndis+" "+indiCountLabel+" / "+data.otherPublis.publis[i].nbUnions+" "+unionCountLabel+" / "+data.otherPublis.publis[i].nbSources+" "+sourcesCountLabel+" </li></ul></li>"));else $(fpContainer).find("ul").html("<li>"+localisedString.HNLOC_DASH_HOL_NOPUBLISH+"</li>");$(context).find(".tableauDetail").css("text-align","left");var cachedData={};cachedData.mfContainer=$(mfContainer).html(),cachedData.fpContainer=$(fpContainer).html(),cachedData.apContainer=$(apContainer).html();var cachedsauvData={};cachedsauvData.mainContent=$(sauvContainer).html(),cachedsauvData.extraDatas=usedSpace,cachedsauvData.splus=data.hasSplus,cachedData.sauvContainer=cachedsauvData,cache.detailHol=cachedData,callback("panel","",mfContainer,titre,"monfichier"),callback("panel","",fpContainer,titre,"fichierPublie"),callback("panel","",apContainer,titre,"albumPublie"),callback("panel",usedSpace,sauvContainer,titre,"sauvegarde")}})};kendo.ui.progress($(context).parent(),!0),navigator.onLine?$.ajax({url:"http://127.0.0.1:"+port+"/libheredis/appServices/dashHOL",type:"POST",dataType:"json",data:{uuid:uuid},success:function(data){data.holConnected?void 0!==cache.HOLAccountInfo&&cache.HOLAccountInfo.idAccount===data.idAccount?void 0!==cache.detailHol&&cache.HOLAccountInfo.idPubli===data.idPubli&&cache.HOLAccountInfo.idSave===data.idSave?($(mfContainer).html(cache.detailHol.mfContainer),$(fpContainer).html(cache.detailHol.fpContainer),$(apContainer).html(cache.detailHol.apContainer),cache.detailHol.sauvContainer.splus&&$(sauvContainer).html(cache.detailHol.sauvContainer.mainContent),callback("panel","",mfContainer,titre,"monfichier"),callback("panel","",fpContainer,titre,"fichierPublie"),callback("panel","",apContainer,titre,"albumPublie"),kendo.ui.progress($(context).parent(),!1),cache.detailHol.sauvContainer.splus&&callback("panel",cache.detailHol.sauvContainer.extraDatas,sauvContainer,titre,"sauvegarde")):(accountInfo=data,cache.HOLAccountInfo=data,main()):void 0!==cache.HOLAccountInfo&&cache.HOLAccountInfo.idAccount!==data.idAccount?defaultCallback():(accountInfo=data,cache.HOLAccountInfo=data,main()):defaultCallback()}}):($(context).html('<span class="noInternetDefaultMsg">'+localisedString.HNLOC_DASH_NOINTERNET+"</span>"),kendo.ui.progress($(context).parent(),!0))}function getExtraDataHOL(cache,url,args,context,callback){kendo.ui.progress($(context).find(".contenu"),!0),void 0!==cache.hol&&null!==cache.HOLAccountInfo&&args.idAccount===cache.HOLAccountInfo.idAccount?($(context).find(".contenu").html(cache.hol.mainContent),callback(cache.hol.extraDatas)):navigator.onLine?$.ajax({indexWidget:"holExtraData",url:url,type:"POST",dataType:"json",data:{filename:decodeURIComponent(args.filename),idAccount:args.idAccount,idPubli:args.idPubli,idSave:args.idSave},success:function(data){var WidgetData=[],hasServicePlus=data.hasSplus;if($(context).find(".contenu > div").html(vueHOLS),void 0!==data.curFile){var isPublished=data.curFile.isPublished,isSaved=data.curFile.isSaved;if($(context).find(".saveLink span").html(localisedString.HNLOC_DASH_HOL_BUTTON_SAVE),$(context).find(".publishLink span").html(localisedString.HNLOC_DASH_HOL_BUTTON_PUBLISH),$(context).find(".contenu > div .enteteIndices > .label ").html(localisedString.HNLOC_DASH_HOL_CURRENTFILE_SECTION_INDICE_TITLE),$(context).find(".contenu > div .enteteSauv > .label ").html(localisedString.HNLOC_DASH_HOL_SECTION_USED_SPACE_TITLE),$(context).find(".contenu > div .enteteInfoFichier").html("</span>"+decodeURIComponent(args.filename)+"</div>"),isPublished?$(context).find(".contenu > div .contenuInfoFichier > table > tbody").append('<tr><td style="padding-right: 70px">'+localisedString.HNLOC_DASH_HOL_SECTION_PUSBLISH_DATE_LATEST+"<span>"+data.curFile.publi.date+"</span></td><td>"+data.curFile.publi.url+"</td></tr>"):$(context).find(".contenu > div .contenuInfoFichier > table > tbody").append("<tr><td>"+localisedString.HNLOC_DASH_HOL_MSG_NOT_PUBLISHED+"</td></tr>"),hasServicePlus){if(WidgetData.push(data.otherSaves.usedSpace.percent),$(context).find(".txt").html(data.otherSaves.usedSpace.txt),isPublished)if(0===data.curFile.publi.nbIndices)$(context).find(".enteteIndices").remove();else for(var i=0;i<data.curFile.publi.indices.length;i++)$(context).find(".contenu > div .contenuIndices > table > tbody").append('<tr><td><a class="BlockA" target="_blank" href="'+data.curFile.publi.indices[i].url+'"><div class="cadreLien"><div title="Indice Heredis Completion" class="iconNotificationIndiceCompletionGris"></div><div class="texteServ"><p class="titreServ">'+data.curFile.publi.indices[i].txt+'</p><p class="autres">'+data.curFile.publi.indices[i].auteur+'</p></div><div class="dateNotification">'+data.curFile.publi.indices[i].date+"</div></div></a></td></tr>");else $(context).find(".enteteIndices").remove();isSaved?$(context).find(".contenu > div .contenuInfoFichier > table > tbody").append("<tr><td>"+localisedString.HNLOC_DASH_HOL_SECTION_SAVE_DATE_LATEST+"<span>"+data.curFile.save.date+"</span></td></tr>"):$(context).find(".contenu > div .contenuInfoFichier > table > tbody").append("<tr><td>"+localisedString.HNLOC_DASH_HOL_MSG_NOT_SAVED+"</td></tr>")}else $(context).find(".contenu .Splus").html('<div class="k-shadow enteteHOLServ enteteIndices"><div class="label">'+localisedString.HNLOC_DASH_HOL_TITLE_DEFAULTMSG_SPLUS+'</div></div><div class="k-shadow defaultHOLSPLusMessage">'+localisedString.HNLOC_DASH_HOL_NO_SERVICEPLUS+"<br/> &raquo "+localisedString.HNLOC_DASH_HOL_NO_SERVICEPLUS_MORE+' <span><a style="cursor:pointer" target="_blank" href="'+data.urlSplus+'">'+localisedString.HNLOC_DASH_HOL_NO_SERVICEPLUS_LINK_TEXT+"</a></span></div>"),$(".SplusSection").remove();var cachedData={};cachedData.mainContent=$(context).find(".contenu").html(),cachedData.extraDatas=WidgetData,cache.hol=cachedData,cache.HOLAccountInfo=args,kendo.ui.progress($(context).find(".contenu"),!1),callback(WidgetData)}}}):($(context).html('<span class="noInternetDefaultMsg">Vous n\'avez pas de connexion internet</span>'),kendo.ui.progress($(context).parent(),!0))}function getProgression(cache,type,page,currentPeriode,titre,uuid,port,callback,currentLi){$(currentLi).find(".contenu > div").html(vueSimpleEtApercu),$(currentLi).find(".total .label").html(localisedString.HNLOC_DASH_PROGRESS_START),$(currentLi).find(".ajoutRecent .label").html(localisedString.HNLOC_DASH_PROGRESS_DATE_CHANGE+localisedString.HNLOC_2_POINTS),$(currentLi).find(".ouvrirDico").remove(),void 0!==cache[type]&&void 0!==cache[type].fileDateModification&&void 0!==cache[type].creationAge?($(currentLi).find(".total .statsValue").html(cache[type].creationAge),$(currentLi).find(".ajoutRecent .statsValue").html(cache[type].fileDateModification),callback(type,cache[type].dataWidget,page,titre,currentLi,getProgression,"progression")):(kendo.ui.progress($(currentLi).find(".contenu"),!0),$.ajax({indexWidget:type,url:"http://127.0.0.1:"+port+"/libheredis/stat/globalProgression",type:"POST",dataType:"json",data:{uuid:uuid},success:function(data){"undefined"===data.creationAge.split(",")[1]&&(data.creationAge=data.creationAge.split(",")[0]),$(currentLi).find(".total .statsValue").html(data.creationAge),$(currentLi).find(".ajoutRecent .statsValue").html(data.fileDateModification.split(" ")[0].replace(/\./gi,"/"));var hmData=[];data.countCreatedIndividuLastMonth>0&&hmData.push({value:data.countCreatedIndividuLastMonth,type:localisedString.HNLOC_DASH_PROGRESS_MONTHAGO_LEGEND,tooltip:localisedString.HNLOC_DASH_PROGRESS_MONTHAGO_TOOLTIP}),data.countCreatedIndividu>0&&hmData.push({value:data.countCreatedIndividu,type:localisedString.HNLOC_DASH_PROGRESS_TODAY_LEGEND,tooltip:localisedString.HNLOC_DASH_PROGRESS_TODAY_TOOLTIP});var dataWidget=[];dataWidget.push(localisedString.HNLOC_DASH_PROGRESS_NBANCESTOR_TITLE);var pdata=[];if(pdata.push(hmData),pdata.push(["#2671d5","#03a9f4"]),dataWidget.push(pdata),void 0===cache[type]){var cachedData={};cachedData.creationAge=data.creationAge,cachedData.dataWidget=dataWidget,cachedData.fileDateModification=data.fileDateModification.split(" ")[0].replace(/\./gi,"/"),cache[type]=cachedData}callback(type,dataWidget,page,titre,currentLi,getProgression,"progression")}}))}function getIdvCreatedModified(cache,type,a,titre,uuid,port,callback){void 0!==cache.IdvCreatedModified?callback(type,cache.IdvCreatedModified.dataWidget,a,titre,"detailProg"):(kendo.ui.progress($(a),!0),$.ajax({indexWidget:"IdvCreatedModified",url:"http://127.0.0.1:"+port+"/libheredis/stat/globalProgression",type:"POST",dataType:"json",data:{uuid:uuid},success:function(data){var dataWidget,nbIdvCreated=Object.keys(data.lastIndisCreated).length,nbIdvModified=Object.keys(data.lastIndisModified).length,cdata='<ul class="tableauDetail"><li>  '+localisedString.HNLOC_DASH_PROGRESS_TAB_add_PLURIEL+"<ul> ";function sexeSosa(dataIdv){var url_img="../Common/Resources/sexe/ico-sex-";return 63==dataIdv.sexe?url_img+="ind":102==dataIdv.sexe?url_img+="fem":109==dataIdv.sexe&&(url_img+="hom"),dataIdv.isSosa?url_img+="-sosa.png":url_img+=".png",url_img}if(nbIdvCreated>0)for(var i=0;i<nbIdvCreated;i++){var image=sexeSosa(data.lastIndisCreated[i]),creationD=data.lastIndisCreated[i].creationDate.split(" ")[0].replace(/\./gi,"/");cdata+='<li data-InfoID="'+data.lastIndisCreated[i].codeId+'"><span id="infoCJ"><img src='+image+">  "+data.lastIndisCreated[i].strNomPrenomUsuelDatesCourtes+"</span> - "+localisedString.HNLOC_DASH_PROGRESS_TAB_DATECREATION+" "+creationD+"</li>"}if(cdata+="</ul></li><li> "+localisedString.HNLOC_DASH_PROGRESS_TAB_modif_PLURIEL+"<ul>",nbIdvModified>0)for(i=0;i<nbIdvModified;i++){image=sexeSosa(data.lastIndisModified[i]);var modificationD=data.lastIndisModified[i].modificationDate.split(" ")[0].replace(/\./gi,"/");cdata+='<li data-InfoID="'+data.lastIndisModified[i].codeId+'"><span id="infoCJ"><img src='+image+">  "+data.lastIndisModified[i].strNomPrenomUsuelDatesCourtes+"</span> - "+localisedString.HNLOC_DASH_PROGRESS_TAB_DATEMODIF+" "+modificationD+"</li>"}if(dataWidget=cdata+="</ul></li>",0===nbIdvCreated&&0===nbIdvModified)$(a).html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>");else{if(void 0===cache.IdvCreatedModified){var cachedData={};cachedData.dataWidget=dataWidget,cache.IdvCreatedModified=cachedData}callback(type,dataWidget,a,titre,"detailProg")}}}))}function getIdvCreatedProgression(cache,context,titre,uuid,port,callback,type){var graphContainer=context[0];void 0!==cache["progression_"+type]?0===cache["progression_"+type].dataWidgetG[0].length?graphContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>"):callback("bar2",cache["progression_"+type].dataWidgetG,graphContainer,titre,type):(kendo.ui.progress($(graphContainer),!0),$.ajax({indexWidget:"progression_"+type,url:"http://127.0.0.1:"+port+"/libheredis/stat/individuCreationProgression",type:"POST",dataType:"json",data:{uuid:uuid,mode:type},success:function(data){for(var dataWidgetG=[],arraysDataG=[],i=0;i<Object.keys(data).length;i++)1===data[i].individuAncestorsCreatedCount?arraysDataG.push({value:data[i].individuAncestorsCreatedCount,type:localisedString.HNLOC_DASH_PROGRESS_ANCESTOR_LEGEND_PLURIEL,index:-data[i].index,date:data[i].creationAge,tooltip:localisedString.HNLOC_DASH_TAB_GENERATION_ANCESTOR_SINGULIER}):arraysDataG.push({value:data[i].individuAncestorsCreatedCount,type:localisedString.HNLOC_DASH_PROGRESS_ANCESTOR_LEGEND_PLURIEL,index:-data[i].index,date:data[i].creationAge,tooltip:localisedString.HNLOC_DASH_TAB_GENERATION_ANCESTOR_PLURIEL}),1===data[i].individuTotalCreatedCount?arraysDataG.push({value:data[i].individuTotalCreatedCount,type:localisedString.HNLOC_DASH_PROGRESS_IDV_LEGEND_PLURIEL,index:-data[i].index,date:data[i].creationAge,tooltip:localisedString.HNLOC_DASH_BAR_COMPLETION_TOOLTIP_INDIVIDU_SINGULIER}):arraysDataG.push({value:data[i].individuTotalCreatedCount,type:localisedString.HNLOC_DASH_PROGRESS_IDV_LEGEND_PLURIEL,index:-data[i].index,date:data[i].creationAge,tooltip:localisedString.HNLOC_DASH_BAR_COMPLETION_TOOLTIP_INDIVIDU_PLURIEL});dataWidgetG.push(arraysDataG),dataWidgetG.push(["#03a9f4","#2671d5"]);var cachedData={};cachedData.dataWidgetG=dataWidgetG,void 0===cache[type]&&(cache["progression_"+type]=cachedData),0===arraysDataG.length?graphContainer.html('<div class="defautViewKendo">'+localisedString.HNLOC_DASH_WIDGETS_NODATA_AVAILABLE+"</div>"):callback("bar2",dataWidgetG,graphContainer,titre,type)}}))}