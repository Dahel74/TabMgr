function Individu(individuAPIData,dataManager){dataManager=dataManager;this.codeId=individuAPIData.codeId,this.isMajor=individuAPIData.isMajor,this.isMain=individuAPIData.isMain,this.codeUnionParents=individuAPIData.codeUnionParents,this.codeUnions=individuAPIData.codeUnions,this.isFake=individuAPIData.isFake,this.getParentsUnion=function(){return dataManager.getUnion(this.codeUnionParents)},this.getFather=function(){var parentUnion=this.getParentsUnion();if(void 0!==parentUnion)return parentUnion.getHusband()},this.getMother=function(){var parentUnion=this.getParentsUnion();if(void 0!==parentUnion)return parentUnion.getWife()},this.countUnions=function(){return Object.keys(this.codeUnions).length},this.getUnions=function(){var unions=[];return Object.keys(this.codeUnions).forEach(function(unionIndex){var unionId=this.codeUnions[unionIndex],union=dataManager.getUnion(unionId);void 0!==union&&unions.push(union)},this),unions}}function Union(unionAPIData,dataManager){dataManager=dataManager;this.codeId=unionAPIData.codeId,this.isMajor=unionAPIData.isMajor,this.isHidden=unionAPIData.isHidden,this.husbandId=unionAPIData.husbandId,this.wifeId=unionAPIData.wifeId,this.codeChildren=unionAPIData.codeChildren,this.isFake=unionAPIData.isFake,this.getHusband=function(){return dataManager.getIndividu(this.husbandId)},this.getWife=function(){return dataManager.getIndividu(this.wifeId)},this.getSpouse=function(individuId){return individuId===this.husbandId?this.getWife():individuId===this.wifeId?this.getHusband():void 0},this.getChildren=function(){var children=[];return Object.keys(this.codeChildren).forEach(function(childIndex){var childId=this.codeChildren[childIndex],child=dataManager.getIndividu(childId);void 0!==child&&children.push(child)},this),children}}function DataManager(apiNodeListObject){var mApiNodeListObject=apiNodeListObject;this.getApiNodeObject=function(codeId){return mApiNodeListObject[codeId]};var mCurrentFakeCodeId=0,addFakeApiObject=function(object){return mCurrentFakeCodeId--,object.codeId=mCurrentFakeCodeId,mApiNodeListObject[mCurrentFakeCodeId]=object,mCurrentFakeCodeId};this.getIndividu=function(codeId){if(void 0!==codeId){var individuData=mApiNodeListObject[codeId];if(void 0!==individuData&&Individu.isValid(individuData))return new Individu(individuData,this)}},this.getFakeIndividu=function(fakeSosaPosition,codeUnionFrom,codeChildFrom){var codeId=addFakeApiObject({type:"fakeIndividu",sosaPosition:fakeSosaPosition,codeChildFrom:codeChildFrom,titles:[],isMain:1===fakeSosaPosition,category:1===fakeSosaPosition?"fakeCentral":"fakeMain",isMajor:!0,isFake:!0,codeUnionParents:0,codeUnions:void 0===codeUnionFrom?[]:[codeUnionFrom]}),individu=this.getIndividu(codeId);if(void 0!==individu)return individu},this.getFakeSpouse=function(unionFrom){var spouseFrom=unionFrom.getSpouse(0),codeId=addFakeApiObject({type:"fakeIndividu",category:"fakeSpouse",titles:[],isMain:!1,isMajor:!1,isFake:!0,codeUnionParents:0,spouseFrom:spouseFrom.codeId,codeUnions:void 0===unionFrom?[]:[unionFrom.codeId]}),individu=this.getIndividu(codeId);if(void 0!==individu)return individu},this.getUnion=function(codeId){if(void 0!==codeId){var unionData=mApiNodeListObject[codeId];if(void 0!==unionData&&Union.isValid(unionData))return new Union(unionData,this)}},this.getFakeParentUnion=function(fakeChildSosaPosition,codeChildFrom){var codeUnionId=addFakeApiObject({type:"fakeUnion",titles:[],isMajor:!0,isHidden:!1,isFake:!0,husbandId:0,wifeId:0,codeChildren:[codeChildFrom]}),fatherId=addFakeApiObject({type:"fakeIndividu",sosaPosition:2*fakeChildSosaPosition,codeChildFrom:codeChildFrom,titles:[],isMajor:!0,isMain:!1,isFake:!0,codeUnionParents:0,codeUnions:[codeUnionId]}),motherId=addFakeApiObject({type:"fakeIndividu",sosaPosition:2*fakeChildSosaPosition+1,codeChildFrom:codeChildFrom,titles:[],isMajor:!0,isMain:!1,isFake:!0,codeUnionParents:0,codeUnions:[codeUnionId]});mApiNodeListObject[codeUnionId].husbandId=fatherId,mApiNodeListObject[codeUnionId].wifeId=motherId;var union=this.getUnion(codeUnionId);if(void 0!==union)return union}}Individu.isValid=function(individuAPIData){return void 0!==individuAPIData&&(void 0!==individuAPIData.type&&(("individu"===individuAPIData.type||"fakeIndividu"===individuAPIData.type)&&(void 0!==individuAPIData.codeId&&(void 0!==individuAPIData.isMajor&&(void 0!==individuAPIData.isMain&&(void 0!==individuAPIData.codeUnionParents&&void 0!==individuAPIData.codeUnions))))))},Union.isValid=function(unionAPIData){return void 0!==unionAPIData&&(void 0!==unionAPIData.type&&(("union"===unionAPIData.type||"fakeUnion"===unionAPIData.type)&&(void 0!==unionAPIData.codeId&&(void 0!==unionAPIData.isMajor&&(void 0!==unionAPIData.isHidden&&(void 0!==unionAPIData.husbandId&&(void 0!==unionAPIData.wifeId&&void 0!==unionAPIData.codeChildren)))))))};